<!doctype html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0,minimum-scale=1.0,user-scalable=0" />
		<title>adb 命令</title>
		<style>
			.class___copy_other_people_content {
				background-color : #aef5a8;
			}
		</style>
	</head>
	<body>
		<article>
			<header>
				<div class="class___copy_other_people_content">内容为复制过来的，为避免链接失效，在此仅用于个人记录备份用。</div>
			</header>
			<section>
				<div class="container clearfix" id="mainBox" style="width: calc(100% - 300px);/*! margin-left: 40px; */">
					<script>
					if(!isCookieConcision){
						$('.main_father').removeClass('mainfather-concision')
						$('.main_father .container').removeClass('container-concision')
					}
					</script>
					<main>
			<script type="text/javascript">
				function getQueryString(name) {   
				  var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)"); //构造一个含有目标参数的正则表达式对象  
				  var r = window.location.search.substr(1).match(reg);  //匹配目标参数
				  if( r != null ) return decodeURIComponent( r[2] ); return '';   
				}
				function stripscript(s){ 
				  var pattern = new RegExp("[`~!@#$^&*()=|{}':;',\\[\\].<>/?~！@#￥……&*（）——|{}【】‘；：”“'。，、？%]") 
				  var rs = ""; 
				  for (var i = 0; i < s.length; i++) { 
					rs = rs+s.substr(i, 1).replace(pattern, ''); 
				  } 
				  return rs; 
				}
				var blogHotWords = stripscript(getQueryString('utm_term')).length > 1 ? stripscript(getQueryString('utm_term')) : ''
			</script>
			<div class="blog-content-box">
					<div class="article-header-box">
					<div class="article-header">
						<div class="article-title-box">
							<h1 class="title-article" id="articleContentId">玩转ADB命令（ADB命令使用大全）</h1>
						</div>
					</div>
				</div>
				<article class="baidu_pl">
					<div id="article_content" class="article_content clearfix" style="/*! height: 2000px; */ /*! overflow: hidden; */">
					<link rel="stylesheet" href="./refs/css/kdoc_html_views-23cf357b0c.css">
					<link rel="stylesheet" href="./refs/css/ck_htmledit_views-6e43165c0a.css">
							<div id="content_views" class="markdown_views prism-atom-one-light">
								<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
									<path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
								</svg>
			<h2><a name="t0"></a><a id="ADB_9"></a>ADB是什么</h2> 
			<hr> 
			<p>Adb的全称为Android Debug Bridge：android调试桥梁，下图为Android官方对adb的介绍：<br> <img src="./refs/imgs/Android_Debug_Bridge.png" alt="在这里插入图片描述"><br> 可以看出，Android的初衷是用adb这样的一个工具来协助开发人员在开发android应用的过程中更快更好的调试apk，因此adb具有安装卸载apk、拷贝推送文件、查看设备硬件信息、查看应用程序占用资源、在设备执行shell命令等功能；</p> 
			<p>我们可以在android sdk安装目录的platform-tools目录下找到adb工具；</p> 
			<p>现有安卓系统的权限机制越来越完善，很多希望能够绕开权限管理机制进行的一些操作都已经无法使用，但是Adb却可以实现。实际上Adb在某种程度上有很大权限的，即使是在最新版本的Android系统上。因为Adb的设计初衷是为了方便开发人员调试，因此必然需要暴露一些权限以外的接口。于是很多公司利用这个特性可以<strong>绕开权限机制</strong>在非Root非定制机上做一些操作（具体用法就是下面说的这些），当然方式也是五花八门，比如通过手机OTG连接，这里不再赘述。</p> 
			<h2><a name="t1"></a><a id="ADB_23"></a>ADB架构</h2> 
			<p>为了方便理解，我们从三个指令入手，我们经常会用到adb start-server，adb devices,adb kill-server。<br> 然后我们经常会看到这样的输出界面：</p> 
			<pre data-index="0" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">C:\Users\dell&gt;adb devices
			List of devices attached
			* daemon not running. starting it now at tcp:5037 *
			* daemon started successfully *
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li></ul></pre> 
			<p>于是这里有三点疑问，为什么是server，server对应的是服务器或者服务端吧？如果手机是客户端，服务端是不是指电脑上开启的服务。还有这个呆萌（daemon ）又是啥？</p> 
			<p>ADB是一个C/S架构的应用程序，由三部分组成：</p> 
			<ol><li>运行在pc端的adb client：<br> 命令行程序”adb”用于从shell或脚本中运行adb命令。首先，“adb”程序尝试定位主机上的ADB服务器，如果找不到ADB服务器，“adb”程序自动启动一个ADB服务器。接下来，当设备的adbd和pc端的adb server建立连接后，adb client就可以向ADB servcer发送服务请求；</li><li>运行在pc端的adb server：<br> ADB Server是运行在主机上的一个后台进程。它的作用在于检测USB端口感知设备的连接和拔除，以及模拟器实例的启动或停止，ADB Server还需要将adb client的请求通过usb或者tcp的方式发送到对应的adbd上；</li><li>运行在设备端的常驻进程adb demon (adbd)：<br> 程序“adbd”作为一个后台进程在Android设备或模拟器系统中运行。它的作用是连接ADB服务器，并且为运行在主机上的客户端提供一些服务；</li></ol> 
			<h2>
				<a name="t2"></a>
				<a id="httpsimgblogcsdnimgcn20190620094923717pngxossprocessimagewatermarktype_ZmFuZ3poZW5naGVpdGkshadow_10text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3pob25nbHVuc2h1bgsize_16color_FFFFFFt_70_46"></a>
				<img src="./refs/imgs/architecture_1.png" alt="在这里插入图片描述">
			</h2>
			<p>
				<img src="./refs/imgs/architecture_2.png" alt="在这里插入图片描述">
			</p>
			
			<h2><a name="t3"></a><a id="ADB_49"></a>ADB端口被占用</h2> 
			<p>有小伙伴说希望我把Adb启动问题放在最前面，因为他经常遇到adb找不到设备的问题，那我就放到前面吧，我想肯定不止是她一个人会遇到这种情况。</p> 
			<p>5037为adb默认端口，若5037端口被占用，则我们在使用Adb命令的时候会因为找不到设备而困扰，这个问题对于Adb不是很熟悉的小伙伴来说会经常遇到，因此我就把这个用法放在文章开头了，以便于小伙伴能方便找到；<br> 解决这种端口占用的问题思路都是一样的，三步走：</p> 
			<ol><li>找到使用该端口的进程Pid；</li></ol> 
			<pre data-index="1" class="prettyprint"><code class="prism language-bash has-numbering" onclick="mdcp.signin(event)" style="position: unset;">C:<span class="token punctuation">\</span>Windows<span class="token punctuation">\</span>system3<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>netstat -aon<span class="token operator">|</span>findstr <span class="token number">5037</span>
			TCP    <span class="token number">127.0</span>.0.1:5037         <span class="token number">0.0</span>.0.0:0              LISTENING       <span class="token number">3172</span>
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li></ul></pre> 
			<ol start="2"><li>通过PID找到对应的进程名（便于定位，可以跳过）；</li></ol> 
			<pre data-index="2" class="prettyprint"><code class="prism language-bash has-numbering" onclick="mdcp.signin(event)" style="position: unset;">C:<span class="token punctuation">\</span>Windows<span class="token punctuation">\</span>system3<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>tasklist /fi <span class="token string">"PID eq 3172"</span>
			
			映像名称                       PID 会话名              会话<span class="token comment">#       内存使用</span>
			<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span> <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span> <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span> <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span> <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>
			360MobileLink.exe             <span class="token number">3172</span> Console                    <span class="token number">4</span>     <span class="token number">40,208</span> K
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li></ul></pre> 
			<ol start="3"><li>使用命令终止该命令的运行；</li></ol> 
			<pre data-index="3" class="prettyprint"><code class="prism language-bash has-numbering" onclick="mdcp.signin(event)" style="position: unset;">C:<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>wwx22949<span class="token operator"><span class="token file-descriptor important">5</span>&gt;</span>taskkill /pid <span class="token number">3172</span> /f
			成功: 已终止 PID 为 <span class="token number">3172</span> 的进程。
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li></ul></pre> 
			<blockquote> 
			 <p>有些时候，一些流氓程序会复制一份Adb.exe到windows环境变量中，比如C://Windows/system32，这个时候我们可以使用Where<br> Adb 命令找出来adb所在的路径并删除。</p> 
			</blockquote> 
			<h2><a name="t4"></a><a id="_84"></a>基本用法</h2> 
			<hr> 
			<p>adb能做什么?答案是所有能对手机的操作都能用adb实现。也就是说如果你玩的6，你就是触摸屏完全坏了，显示屏完全坏了，就只是给你一个主板，你照样能完成你要做的动作。当然在一般场景不推荐这样做，效率优先嘛。</p> 
			<p>接下来的内容是转自github上一位大牛的<a href="https://github.com/mzlogin/awesome-adb">博客</a>，如有侵权请告知，立即删除；<br> 后期</p> 
			<h3><a name="t5"></a><a id="_95"></a>命令语法</h3> 
			<p>adb 命令的基本语法如下：</p> 
			<blockquote> 
			 <p>adb [-d|-e|-s ] </p> 
			</blockquote> 
			<p>如果只有一个设备/模拟器连接时，可以省略掉 [-d|-e|-s ] 这一部分，直接使用 adb 。</p> 
			<h3><a name="t6"></a><a id="_104"></a>为命令指定目标设备</h3> 
			<p>如果有多个设备/模拟器连接，则需要为命令指定目标设备。</p> 
			<div class="table-box"><table><thead><tr><th>参数</th><th>含义</th></tr></thead><tbody><tr><td>-d</td><td>指定当前唯一通过 USB 连接的 Android 设备为命令目标</td></tr><tr><td>-e</td><td>指定当前唯一运行的模拟器为命令目标</td></tr><tr><td><code>-s &lt;serialNumber&gt;</code></td><td>指定相应 serialNumber 号的设备/模拟器为命令目标</td></tr></tbody></table></div> 
			<p>在多个设备/模拟器连接的情况下较常用的是 -s 参数，serialNumber 可以通过 adb devices 命令获取。如：</p> 
			<pre data-index="4" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">$ adb devices
			
			List of devices attached
			cf264b8f	device
			emulator-5554	device
			10.129.164.6:5555	device
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li><li style="color: rgb(153, 153, 153);">6</li></ul></pre> 
			<p>输出里的 cf264b8f、emulator-5554 和 10.129.164.6:5555 即为 serialNumber。</p> 
			<p>比如这时想指定 cf264b8f 这个设备来运行 adb 命令获取屏幕分辨率：</p> 
			<pre data-index="5" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb -s cf264b8f shell wm size
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>又如想给 10.129.164.6:5555 这个设备安装应用（这种形式的 serialNumber 格式为 :，一般为无线连接的设备或 Genymotion 等第三方 Android 模拟器）：</p> 
			<pre data-index="6" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb -s 10.129.164.6:5555 install test.apk
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p><em>遇到多设备/模拟器的情况均使用这几个参数为命令指定目标设备，下文中为简化描述，不再重复。</em></p> 
			<h3><a name="t7"></a><a id="_152"></a>启动/停止</h3> 
			<p>启动 adb server 命令：</p> 
			<pre data-index="7" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb start-server
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>（一般无需手动执行此命令，在运行 adb 命令时若发现 adb server 没有启动会自动调起。）</p> 
			<p>停止 adb server 命令：</p> 
			<pre data-index="8" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb kill-server
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<h3><a name="t8"></a><a id="_adb__167"></a>查看 adb 版本</h3> 
			<pre data-index="9" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb version
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>示例输出</p> 
			<pre data-index="10" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">Android Debug Bridge version 1.0.36
			Revision 8f855a3d9b35-android
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li></ul></pre> 
			<h3><a name="t9"></a><a id="_root__adbd_180"></a>以 root 权限运行 adbd</h3> 
			<p>adb 的运行原理是 PC 端的 adb server 与手机端的守护进程 adbd 建立连接，然后 PC 端的 adb client 通过 adb server 转发命令，adbd 接收命令后解析运行。</p> 
			<p>所以如果 adbd 以普通权限执行，有些需要 root 权限才能执行的命令无法直接用 adb xxx 执行。这时可以 adb shell 然后 su 后执行命令，也可以让 adbd 以 root 权限执行，这个就能随意执行高权限命令了。</p> 
			<p>命令：</p> 
			<pre data-index="11" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb root
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>正常输出：</p> 
			<pre data-index="12" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">restarting adbd as root
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>现在再运行 adb shell，看看命令行提示符是不是变成 # 了？</p> 
			<p>有些手机 root 后也无法通过 adb root 命令让 adbd 以 root 权限执行，比如三星的部分机型，会提示 adbd cannot run as root in production builds，此时可以先安装 <strong>adbd Insecure</strong>，然后 adb root 试试。</p> 
			<p>相应地，如果要恢复 adbd 为非 root 权限的话，可以使用 <strong>adb unroot</strong> 命令。</p> 
			<h3><a name="t10"></a><a id="_adb_server__203"></a>指定 adb server 的网络端口</h3> 
			<pre data-index="13" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb -P &lt;port&gt; start-server
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>默认端口为 5037。</p> 
			<h2><a name="t11"></a><a id="_211"></a>设备连接管理</h2> 
			<hr> 
			<h3><a name="t12"></a><a id="_215"></a>查询已连接设备/模拟器</h3> 
			<p>命令：</p> 
			<pre data-index="14" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb devices
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>输出示例：</p> 
			<pre data-index="15" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">List of devices attached
			cf264b8f	device
			emulator-5554	device
			10.129.164.6:5555	device
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li></ul></pre> 
			<p>输出格式为 [serialNumber] [state]，serialNumber 即我们常说的 SN，state 有如下几种：</p> 
			<p>offline —— 表示设备未连接成功或无响应。</p> 
			<p>device —— 设备已连接。注意这个状态并不能标识 Android 系统已经完全启动和可操作，在设备启动过程中设备实例就可连接到 adb，但启动完毕后系统才处于可操作状态。</p> 
			<p>no device —— 没有设备/模拟器连接。</p> 
			<p>以上输出显示当前已经连接了三台设备/模拟器，cf264b8f、emulator-5554 和 10.129.164.6:5555 分别是它们的 SN。从 emulator-5554 这个名字可以看出它是一个 Android 模拟器，而 10.129.164.6:5555 这种形为 : 的 serialNumber 一般是无线连接的设备或 Genymotion 等第三方 Android 模拟器。</p> 
			<p>常见异常输出：</p> 
			<p>没有设备/模拟器连接成功。</p> 
			<p>List of devices attached<br> 设备/模拟器未连接到 adb 或无响应。</p> 
			<p>List of devices attached<br> cf264b8f offline</p> 
			<h3><a name="t13"></a><a id="USB__253"></a>USB 连接</h3> 
			<p>通过 USB 连接来正常使用 adb 需要保证几点：</p> 
			<p>硬件状态正常。</p> 
			<p>包括 Android 设备处于正常开机状态，USB 连接线和各种接口完好。</p> 
			<p>Android 设备的开发者选项和 USB 调试模式已开启。</p> 
			<p>可以到「设置」-「开发者选项」-「Android 调试」查看。</p> 
			<p>如果在设置里找不到开发者选项，那需要通过一个彩蛋来让它显示出来：在「设置」-「关于手机」连续点击「版本号」7 次。</p> 
			<p>设备驱动状态正常。</p> 
			<p>这一点貌似在 Linux 和 Mac OS X 下不用操心，在 Windows 下有可能遇到需要安装驱动的情况，确认这一点可以右键「计算机」-「属性」，到「设备管理器」里查看相关设备上是否有黄色感叹号或问号，如果没有就说明驱动状态已经好了。否则可以下载一个手机助手类程序来安装驱动先。</p> 
			<p>通过 USB 线连接好电脑和设备后确认状态。</p> 
			<pre data-index="16" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb devices
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>如果能看到<br> xxxxxx device<br> 说明连接成功。</p> 
			<h3><a name="t14"></a><a id="_USB__282"></a>无线连接（需要借助 USB 线）</h3> 
			<p>除了可以通过 USB 连接设备与电脑来使用 adb，也可以通过无线连接——虽然连接过程中也有需要使用 USB 的步骤，但是连接成功之后你的设备就可以在一定范围内摆脱 USB 连接线的限制啦！</p> 
			<p>操作步骤：<br> 将 Android 设备与要运行 adb 的电脑连接到同一个局域网，比如连到同一个 WiFi。<br> 将设备与电脑通过 USB 线连接。<br> 应确保连接成功（可运行 adb devices 看是否能列出该设备）。<br> 让设备在 5555 端口监听 TCP/IP 连接：</p> 
			<pre data-index="17" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb tcpip 5555
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>断开 USB 连接。<br> 找到设备的 IP 地址。<br> 一般能在「设置」-「关于手机」-「状态信息」-「IP地址」找到，也可以使用下文里 查看设备信息 - IP 地址 一节里的方法用 adb 命令来查看。</p> 
			<p>通过 IP 地址连接设备。</p> 
			<pre data-index="18" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb connect &lt;device-ip-address&gt;
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>这里的 就是上一步中找到的设备 IP 地址。</p> 
			<p>确认连接状态。</p> 
			<pre data-index="19" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb devices
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>如果能看到</p> 
			<pre data-index="20" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">&lt;device-ip-address&gt;:5555 device
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>说明连接成功。<br> 如果连接不了，请确认 Android 设备与电脑是连接到了同一个 WiFi，然后再次执行 <code>adb connect &lt;device-ip-address&gt;</code> 那一步；<br> 如果还是不行的话，通过 adb kill-server 重新启动 adb 然后从头再来一次试试。</p> 
			<p>断开无线连接<br> 命令：</p> 
			<pre data-index="21" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb disconnect &lt;device-ip-address&gt;
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<h3><a name="t15"></a><a id="_USB__331"></a>无线连接（无需借助 USB 线）</h3> 
			<p>注：需要 root 权限。</p> 
			<p>上一节「无线连接（需要借助 USB 线）」是官方文档里介绍的方法，需要借助于 USB 数据线来实现无线连接。<br> 既然我们想要实现无线连接，那能不能所有步骤下来都是无线的呢？答案是能的。<br> 在 Android 设备上安装一个终端模拟器。<br> 已经安装过的设备可以跳过此步。我使用的终端模拟器下载地址是：Terminal Emulator for Android Downloads<br> 将 Android 设备与要运行 adb 的电脑连接到同一个局域网，比如连到同一个 WiFi。<br> 打开 Android 设备上的终端模拟器，在里面依次运行命令：</p> 
			<pre data-index="22" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">su
			setprop service.adb.tcp.port 5555
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li></ul></pre> 
			<p>找到 Android 设备的 IP 地址。</p> 
			<p>一般能在「设置」-「关于手机」-「状态信息」-「IP地址」找到，也可以使用下文里 查看设备信息 - IP 地址 一节里的方法用 adb 命令来查看。</p> 
			<p>在电脑上通过 adb 和 IP 地址连接 Android 设备。</p> 
			<pre data-index="23" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb connect &lt;device-ip-address&gt;
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>这里的 就是上一步中找到的设备 IP 地址。</p> 
			<p>如果能看到 connected to :5555 这样的输出则表示连接成功。</p> 
			<p><strong>节注一：</strong></p> 
			<p>有的设备，比如小米 5S + MIUI 8.0 + Android 6.0.1 MXB48T，可能在第 5 步之前需要重启 adbd 服务，在设备的终端模拟器上运行：</p> 
			<pre data-index="24" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">restart adbd
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>如果 restart 无效，尝试以下命令：</p> 
			<pre data-index="25" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">stop adbd
			start adbd
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li></ul></pre> 
			<h2><a name="t16"></a><a id="_376"></a>应用管理</h2> 
			<h3><a name="t17"></a><a id="_379"></a>查看应用列表</h3> 
			<p>查看应用列表的基本命令格式是</p> 
			<pre data-index="26" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell pm list packages [-f] [-d] [-e] [-s] [-3] [-i] [-u] [--user USER_ID] [FILTER]
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>即在 adb shell pm list packages 的基础上可以加一些参数进行过滤查看不同的列表，支持的过滤参数如下：</p> 
			<div class="table-box"><table><thead><tr><th>参数</th><th>显示列表</th></tr></thead><tbody><tr><td>无</td><td>所有应用</td></tr><tr><td>-f</td><td>显示应用关联的 apk 文件</td></tr><tr><td>-d</td><td>只显示 disabled 的应用</td></tr><tr><td>-e</td><td>只显示 enabled 的应用</td></tr><tr><td>-s</td><td>只显示系统应用</td></tr><tr><td>-3</td><td>只显示第三方应用</td></tr><tr><td>-i</td><td>显示应用的 installer</td></tr><tr><td>-u</td><td>包含已卸载应用</td></tr><tr><td><code>&lt;FILTER&gt;</code></td><td>包名包含 <code>&lt;FILTER&gt;</code> 字符串</td></tr></tbody></table></div> 
			<h3><a name="t18"></a><a id="_432"></a>所有应用</h3> 
			<p>命令：</p> 
			<pre data-index="27" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell pm list packages
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>输出示例：</p> 
			<pre data-index="28" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">package:com.android.smoketest
			package:com.example.android.livecubes
			package:com.android.providers.telephony
			package:com.google.android.googlequicksearchbox
			package:com.android.providers.calendar
			package:com.android.providers.media
			package:com.android.protips
			package:com.android.documentsui
			package:com.android.gallery
			package:com.android.externalstorage
			...
			// other packages here
			...
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li><li style="color: rgb(153, 153, 153);">6</li><li style="color: rgb(153, 153, 153);">7</li><li style="color: rgb(153, 153, 153);">8</li><li style="color: rgb(153, 153, 153);">9</li><li style="color: rgb(153, 153, 153);">10</li><li style="color: rgb(153, 153, 153);">11</li><li style="color: rgb(153, 153, 153);">12</li><li style="color: rgb(153, 153, 153);">13</li></ul></pre> 
			<h3><a name="t19"></a><a id="_458"></a>系统应用</h3> 
			<p>命令：</p> 
			<pre data-index="29" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell pm list packages -s
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<h3><a name="t20"></a><a id="_466"></a>第三方应用</h3> 
			<p>命令：</p> 
			<pre data-index="30" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell pm list packages -3
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>包名包含某字符串的应用<br> 比如要查看包名包含字符串 mazhuang 的应用列表，命令：</p> 
			<pre data-index="31" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell pm list packages mazhuang
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>当然也可以使用 grep 来过滤：</p> 
			<pre data-index="32" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell pm list packages | grep mazhuang
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<h3><a name="t21"></a><a id="_APK_487"></a>安装 APK</h3> 
			<p>命令格式：</p> 
			<pre data-index="33" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb install [-lrtsdg] &lt;path_to_apk&gt;
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>参数：</p> 
			<p>adb install 后面可以跟一些可选参数来控制安装 APK 的行为，可用参数及含义如下：</p> 
			<div class="table-box"><table><thead><tr><th>参数</th><th>含义</th></tr></thead><tbody><tr><td>-l</td><td>将应用安装到保护目录 /mnt/asec</td></tr><tr><td>-r</td><td>允许覆盖安装</td></tr><tr><td>-t</td><td>允许安装 AndroidManifest.xml 里 application 指定 <code>android:testOnly="true"</code> 的应用</td></tr><tr><td>-s</td><td>将应用安装到 sdcard</td></tr><tr><td>-d</td><td>允许降级覆盖安装</td></tr><tr><td>-g</td><td>授予所有运行时权限</td></tr></tbody></table></div> 
			<p>运行命令后如果见到类似如下输出（状态为 Success）代表安装成功：</p> 
			<pre data-index="34" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">[100%] /data/local/tmp/1.apk
				pkg: /data/local/tmp/1.apk
			Success
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li></ul></pre> 
			<p>上面是当前最新版 v1.0.36 的 adb 的输出，会显示 push apk 文件到手机的进度百分比。</p> 
			<p>使用旧版本 adb 的输出则是这样的：</p> 
			<pre data-index="35" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">12040 KB/s (22205609 bytes in 1.801s)
					pkg: /data/local/tmp/SogouInput_android_v8.3_sweb.apk
			Success
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li></ul></pre> 
			<p>而如果状态为 Failure 则表示安装失败，比如：</p> 
			<pre data-index="36" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">[100%] /data/local/tmp/map-20160831.apk
					pkg: /data/local/tmp/map-20160831.apk
			Failure [INSTALL_FAILED_ALREADY_EXISTS]
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li></ul></pre> 
			<p>常见安装失败输出代码、含义及可能的解决办法如下：</p> 
			<div class="table-box"><table><thead><tr><th>输出</th><th>含义</th><th>解决办法</th></tr></thead><tbody><tr><td>INSTALL_FAILED_ALREADY_EXISTS</td><td>应用已经存在，或卸载了但没卸载干净</td><td><code>adb install</code> 时使用 <code>-r</code> 参数，或者先 <code>adb uninstall &lt;packagename&gt;</code> 再安装</td></tr><tr><td>INSTALL_FAILED_INVALID_APK</td><td>无效的 APK 文件</td><td></td></tr><tr><td>INSTALL_FAILED_INVALID_URI</td><td>无效的 APK 文件名</td><td>确保 APK 文件名里无中文</td></tr><tr><td>INSTALL_FAILED_INSUFFICIENT_STORAGE</td><td>空间不足</td><td>清理空间</td></tr><tr><td>INSTALL_FAILED_DUPLICATE_PACKAGE</td><td>已经存在同名程序</td><td></td></tr><tr><td>INSTALL_FAILED_NO_SHARED_USER</td><td>请求的共享用户不存在</td><td></td></tr><tr><td>INSTALL_FAILED_UPDATE_INCOMPATIBLE</td><td>以前安装过同名应用，但卸载时数据没有移除；或者已安装该应用，但签名不一致</td><td>先 <code>adb uninstall &lt;packagename&gt;</code> 再安装</td></tr><tr><td>INSTALL_FAILED_SHARED_USER_INCOMPATIBLE</td><td>请求的共享用户存在但签名不一致</td><td></td></tr><tr><td>INSTALL_FAILED_MISSING_SHARED_LIBRARY</td><td>安装包使用了设备上不可用的共享库</td><td></td></tr><tr><td>INSTALL_FAILED_REPLACE_COULDNT_DELETE</td><td>替换时无法删除</td><td></td></tr><tr><td>INSTALL_FAILED_DEXOPT</td><td>dex 优化验证失败或空间不足</td><td></td></tr><tr><td>INSTALL_FAILED_OLDER_SDK</td><td>设备系统版本低于应用要求</td><td></td></tr><tr><td>INSTALL_FAILED_CONFLICTING_PROVIDER</td><td>设备里已经存在与应用里同名的 content provider</td><td></td></tr><tr><td>INSTALL_FAILED_NEWER_SDK</td><td>设备系统版本高于应用要求</td><td></td></tr><tr><td>INSTALL_FAILED_TEST_ONLY</td><td>应用是 test-only 的，但安装时没有指定 <code>-t</code> 参数</td><td></td></tr><tr><td>INSTALL_FAILED_CPU_ABI_INCOMPATIBLE</td><td>包含不兼容设备 CPU 应用程序二进制接口的 native code</td><td></td></tr><tr><td>INSTALL_FAILED_MISSING_FEATURE</td><td>应用使用了设备不可用的功能</td><td></td></tr><tr><td>INSTALL_FAILED_CONTAINER_ERROR</td><td>1. sdcard 访问失败;<br>2. 应用签名与 ROM 签名一致，被当作内置应用。</td><td>1. 确认 sdcard 可用，或者安装到内置存储;<br>2. 打包时不与 ROM 使用相同签名。</td></tr><tr><td>INSTALL_FAILED_INVALID_INSTALL_LOCATION</td><td>1. 不能安装到指定位置;<br>2. 应用签名与 ROM 签名一致，被当作内置应用。</td><td>1. 切换安装位置，添加或删除 <code>-s</code> 参数;<br>2. 打包时不与 ROM 使用相同签名。</td></tr><tr><td>INSTALL_FAILED_MEDIA_UNAVAILABLE</td><td>安装位置不可用</td><td>一般为 sdcard，确认 sdcard 可用或安装到内置存储</td></tr><tr><td>INSTALL_FAILED_VERIFICATION_TIMEOUT</td><td>验证安装包超时</td><td></td></tr><tr><td>INSTALL_FAILED_VERIFICATION_FAILURE</td><td>验证安装包失败</td><td></td></tr><tr><td>INSTALL_FAILED_PACKAGE_CHANGED</td><td>应用与调用程序期望的不一致</td><td></td></tr><tr><td>INSTALL_FAILED_UID_CHANGED</td><td>以前安装过该应用，与本次分配的 UID 不一致</td><td>清除以前安装过的残留文件</td></tr><tr><td>INSTALL_FAILED_VERSION_DOWNGRADE</td><td>已经安装了该应用更高版本</td><td>使用 <code>-d</code> 参数</td></tr><tr><td>INSTALL_FAILED_PERMISSION_MODEL_DOWNGRADE</td><td>已安装 target SDK 支持运行时权限的同名应用，要安装的版本不支持运行时权限</td><td></td></tr><tr><td>INSTALL_PARSE_FAILED_NOT_APK</td><td>指定路径不是文件，或不是以 <code>.apk</code> 结尾</td><td></td></tr><tr><td>INSTALL_PARSE_FAILED_BAD_MANIFEST</td><td>无法解析的 AndroidManifest.xml 文件</td><td></td></tr><tr><td>INSTALL_PARSE_FAILED_UNEXPECTED_EXCEPTION</td><td>解析器遇到异常</td><td></td></tr><tr><td>INSTALL_PARSE_FAILED_NO_CERTIFICATES</td><td>安装包没有签名</td><td></td></tr><tr><td>INSTALL_PARSE_FAILED_INCONSISTENT_CERTIFICATES</td><td>已安装该应用，且签名与 APK 文件不一致</td><td>先卸载设备上的该应用，再安装</td></tr><tr><td>INSTALL_PARSE_FAILED_CERTIFICATE_ENCODING</td><td>解析 APK 文件时遇到 <code>CertificateEncodingException</code></td><td></td></tr><tr><td>INSTALL_PARSE_FAILED_BAD_PACKAGE_NAME</td><td>manifest 文件里没有或者使用了无效的包名</td><td></td></tr><tr><td>INSTALL_PARSE_FAILED_BAD_SHARED_USER_ID</td><td>manifest 文件里指定了无效的共享用户 ID</td><td></td></tr><tr><td>INSTALL_PARSE_FAILED_MANIFEST_MALFORMED</td><td>解析 manifest 文件时遇到结构性错误</td><td></td></tr><tr><td>INSTALL_PARSE_FAILED_MANIFEST_EMPTY</td><td>在 manifest 文件里找不到找可操作标签（instrumentation 或 application）</td><td></td></tr><tr><td>INSTALL_FAILED_INTERNAL_ERROR</td><td>因系统问题安装失败</td><td></td></tr><tr><td>INSTALL_FAILED_USER_RESTRICTED</td><td>用户被限制安装应用</td><td></td></tr><tr><td>INSTALL_FAILED_DUPLICATE_PERMISSION</td><td>应用尝试定义一个已经存在的权限名称</td><td></td></tr><tr><td>INSTALL_FAILED_NO_MATCHING_ABIS</td><td>应用包含设备的应用程序二进制接口不支持的 native code</td><td></td></tr><tr><td>INSTALL_CANCELED_BY_USER</td><td>应用安装需要在设备上确认，但未操作设备或点了取消</td><td>在设备上同意安装</td></tr><tr><td>INSTALL_FAILED_ACWF_INCOMPATIBLE</td><td>应用程序与设备不兼容</td><td></td></tr><tr><td>does not contain AndroidManifest.xml</td><td>无效的 APK 文件</td><td></td></tr><tr><td>is not a valid zip file</td><td>无效的 APK 文件</td><td></td></tr><tr><td>Offline</td><td>设备未连接成功</td><td>先将设备与 adb 连接成功</td></tr><tr><td>unauthorized</td><td>设备未授权允许调试</td><td></td></tr><tr><td>error: device not found</td><td>没有连接成功的设备</td><td>先将设备与 adb 连接成功</td></tr><tr><td>protocol failure</td><td>设备已断开连接</td><td>先将设备与 adb 连接成功</td></tr><tr><td>Unknown option: -s</td><td>Android 2.2 以下不支持安装到 sdcard</td><td>不使用 <code>-s</code> 参数</td></tr><tr><td>No space left on device</td><td>空间不足</td><td>清理空间</td></tr><tr><td>Permission denied ... sdcard ...</td><td>sdcard 不可用</td><td></td></tr><tr><td>signatures do not match the previously installed version; ignoring!</td><td>已安装该应用且签名不一致</td><td>先卸载设备上的该应用，再安装</td></tr></tbody></table></div> 
			<p>参考：<a href="https://github.com/aosp-mirror/platform_frameworks_base/blob/master/core/java/android/content/pm/PackageManager.java">[PackageManager.java]</a></p> 
			<h3><a name="t22"></a><a id="adb_install__830"></a>adb install 内部原理简介</h3> 
			<p>adb install 实际是分三步完成：</p> 
			<ol><li>push apk 文件到 /data/local/tmp。</li><li>调用 pm install 安装。</li><li>删除 /data/local/tmp 下的对应 apk 文件。</li></ol> 
			<p>所以，必要的时候也可以根据这个步骤，手动分步执行安装过程。</p> 
			<h3><a name="t23"></a><a id="_840"></a>卸载应用</h3> 
			<p>命令：</p> 
			<pre data-index="37" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb uninstall [-k] &lt;packagename&gt;
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p><code>&lt;packagename&gt;</code> 表示应用的包名，-k 参数可选，表示卸载应用但保留数据和缓存目录。<br> 命令示例：</p> 
			<pre data-index="38" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb uninstall com.qihoo360.mobilesafe
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>表示卸载 360 手机卫士。</p> 
			<h3><a name="t24"></a><a id="_858"></a>清除应用数据与缓存</h3> 
			<p>命令：</p> 
			<pre data-index="39" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell pm clear &lt;packagename&gt;
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p><code>&lt;packagename&gt;</code> 表示应用名包，这条命令的效果相当于在设置里的应用信息界面点击了「清除缓存」和「清除数据」。</p> 
			<p>命令示例：</p> 
			<pre data-index="40" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell pm clear com.qihoo360.mobilesafe
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>表示清除 360 手机卫士的数据和缓存。</p> 
			<h3><a name="t25"></a><a id="_Activity_877"></a>查看前台 Activity</h3> 
			<p>命令：</p> 
			<pre data-index="41" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell dumpsys activity activities | grep mFocusedActivity
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>输出示例：</p> 
			<pre data-index="42" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">mFocusedActivity: ActivityRecord{8079d7e u0 com.cyanogenmod.trebuchet/com.android.launcher3.Launcher t42}
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>其中的 <code>com.cyanogenmod.trebuchet/com.android.launcher3.Launcher</code> 就是当前处于前台的 Activity。</p> 
			<h3><a name="t26"></a><a id="_Services_894"></a>查看正在运行的 Services</h3> 
			<p>命令：</p> 
			<pre data-index="43" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell dumpsys activity services [&lt;packagename&gt;]
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p><code>&lt;packagename&gt;</code> 参数不是必须的，指定 <code>&lt;packagename&gt;</code> 表示查看与某个包名相关的 Services，不指定表示查看所有 Services。</p> 
			<p><code>&lt;packagename&gt;</code> 不一定要给出完整的包名，比如运行 adb shell dumpsys activity services org.mazhuang，那么包名 org.mazhuang.demo1、org.mazhuang.demo2 和 org.mazhuang123 等相关的 Services 都会列出来。</p> 
			<h3><a name="t27"></a><a id="_907"></a>查看应用详细信息</h3> 
			<p>命令：</p> 
			<pre data-index="44" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell dumpsys package &lt;packagename&gt;
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>输出中包含很多信息，包括 Activity Resolver Table、Registered ContentProviders、包名、userId、安装后的文件资源代码等路径、版本信息、权限信息和授予状态、签名版本信息等。</p> 
			<p><code>&lt;packagename&gt;</code> 表示应用包名。</p> 
			<p>输出示例：</p> 
			<pre data-index="45" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">Activity Resolver Table:
			  Non-Data Actions:
				  android.intent.action.MAIN:
					5b4cba8 org.mazhuang.guanggoo/.SplashActivity filter 5ec9dcc
					  Action: "android.intent.action.MAIN"
					  Category: "android.intent.category.LAUNCHER"
					  AutoVerify=false
			
			Registered ContentProviders:
			  org.mazhuang.guanggoo/com.tencent.bugly.beta.utils.BuglyFileProvider:
				Provider{7a3c394 org.mazhuang.guanggoo/com.tencent.bugly.beta.utils.BuglyFileProvider}
			
			ContentProvider Authorities:
			  [org.mazhuang.guanggoo.fileProvider]:
				Provider{7a3c394 org.mazhuang.guanggoo/com.tencent.bugly.beta.utils.BuglyFileProvider}
				  applicationInfo=ApplicationInfo{7754242 org.mazhuang.guanggoo}
			
			Key Set Manager:
			  [org.mazhuang.guanggoo]
				  Signing KeySets: 501
			
			Packages:
			  Package [org.mazhuang.guanggoo] (c1d7f):
				userId=10394
				pkg=Package{55f714c org.mazhuang.guanggoo}
				codePath=/data/app/org.mazhuang.guanggoo-2
				resourcePath=/data/app/org.mazhuang.guanggoo-2
				legacyNativeLibraryDir=/data/app/org.mazhuang.guanggoo-2/lib
				primaryCpuAbi=null
				secondaryCpuAbi=null
				versionCode=74 minSdk=15 targetSdk=25
				versionName=1.1.74
				splits=[base]
				apkSigningVersion=2
				applicationInfo=ApplicationInfo{7754242 org.mazhuang.guanggoo}
				flags=[ HAS_CODE ALLOW_CLEAR_USER_DATA ALLOW_BACKUP ]
				privateFlags=[ RESIZEABLE_ACTIVITIES ]
				dataDir=/data/user/0/org.mazhuang.guanggoo
				supportsScreens=[small, medium, large, xlarge, resizeable, anyDensity]
				timeStamp=2017-10-22 23:50:53
				firstInstallTime=2017-10-22 23:50:25
				lastUpdateTime=2017-10-22 23:50:55
				installerPackageName=com.miui.packageinstaller
				signatures=PackageSignatures{af09595 [53c7caa2]}
				installPermissionsFixed=true installStatus=1
				pkgFlags=[ HAS_CODE ALLOW_CLEAR_USER_DATA ALLOW_BACKUP ]
				requested permissions:
				  android.permission.READ_PHONE_STATE
				  android.permission.INTERNET
				  android.permission.ACCESS_NETWORK_STATE
				  android.permission.ACCESS_WIFI_STATE
				  android.permission.READ_LOGS
				  android.permission.WRITE_EXTERNAL_STORAGE
				  android.permission.READ_EXTERNAL_STORAGE
				install permissions:
				  android.permission.INTERNET: granted=true
				  android.permission.ACCESS_NETWORK_STATE: granted=true
				  android.permission.ACCESS_WIFI_STATE: granted=true
				User 0: ceDataInode=1155675 installed=true hidden=false suspended=false stopped=true notLaunched=false enabled=0
				  gids=[3003]
				  runtime permissions:
					android.permission.READ_EXTERNAL_STORAGE: granted=true
					android.permission.READ_PHONE_STATE: granted=true
					android.permission.WRITE_EXTERNAL_STORAGE: granted=true
				User 999: ceDataInode=0 installed=false hidden=false suspended=false stopped=true notLaunched=true enabled=0
				  gids=[3003]
				  runtime permissions:
			
			
			Dexopt state:
			  [org.mazhuang.guanggoo]
				Instruction Set: arm64
				  path: /data/app/org.mazhuang.guanggoo-2/base.apk
				  status: /data/app/org.mazhuang.guanggoo-2/oat/arm64/base.odex [compilation_filter=speed-profile, status=kOatUpToDa
				  te]
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li><li style="color: rgb(153, 153, 153);">6</li><li style="color: rgb(153, 153, 153);">7</li><li style="color: rgb(153, 153, 153);">8</li><li style="color: rgb(153, 153, 153);">9</li><li style="color: rgb(153, 153, 153);">10</li><li style="color: rgb(153, 153, 153);">11</li><li style="color: rgb(153, 153, 153);">12</li><li style="color: rgb(153, 153, 153);">13</li><li style="color: rgb(153, 153, 153);">14</li><li style="color: rgb(153, 153, 153);">15</li><li style="color: rgb(153, 153, 153);">16</li><li style="color: rgb(153, 153, 153);">17</li><li style="color: rgb(153, 153, 153);">18</li><li style="color: rgb(153, 153, 153);">19</li><li style="color: rgb(153, 153, 153);">20</li><li style="color: rgb(153, 153, 153);">21</li><li style="color: rgb(153, 153, 153);">22</li><li style="color: rgb(153, 153, 153);">23</li><li style="color: rgb(153, 153, 153);">24</li><li style="color: rgb(153, 153, 153);">25</li><li style="color: rgb(153, 153, 153);">26</li><li style="color: rgb(153, 153, 153);">27</li><li style="color: rgb(153, 153, 153);">28</li><li style="color: rgb(153, 153, 153);">29</li><li style="color: rgb(153, 153, 153);">30</li><li style="color: rgb(153, 153, 153);">31</li><li style="color: rgb(153, 153, 153);">32</li><li style="color: rgb(153, 153, 153);">33</li><li style="color: rgb(153, 153, 153);">34</li><li style="color: rgb(153, 153, 153);">35</li><li style="color: rgb(153, 153, 153);">36</li><li style="color: rgb(153, 153, 153);">37</li><li style="color: rgb(153, 153, 153);">38</li><li style="color: rgb(153, 153, 153);">39</li><li style="color: rgb(153, 153, 153);">40</li><li style="color: rgb(153, 153, 153);">41</li><li style="color: rgb(153, 153, 153);">42</li><li style="color: rgb(153, 153, 153);">43</li><li style="color: rgb(153, 153, 153);">44</li><li style="color: rgb(153, 153, 153);">45</li><li style="color: rgb(153, 153, 153);">46</li><li style="color: rgb(153, 153, 153);">47</li><li style="color: rgb(153, 153, 153);">48</li><li style="color: rgb(153, 153, 153);">49</li><li style="color: rgb(153, 153, 153);">50</li><li style="color: rgb(153, 153, 153);">51</li><li style="color: rgb(153, 153, 153);">52</li><li style="color: rgb(153, 153, 153);">53</li><li style="color: rgb(153, 153, 153);">54</li><li style="color: rgb(153, 153, 153);">55</li><li style="color: rgb(153, 153, 153);">56</li><li style="color: rgb(153, 153, 153);">57</li><li style="color: rgb(153, 153, 153);">58</li><li style="color: rgb(153, 153, 153);">59</li><li style="color: rgb(153, 153, 153);">60</li><li style="color: rgb(153, 153, 153);">61</li><li style="color: rgb(153, 153, 153);">62</li><li style="color: rgb(153, 153, 153);">63</li><li style="color: rgb(153, 153, 153);">64</li><li style="color: rgb(153, 153, 153);">65</li><li style="color: rgb(153, 153, 153);">66</li><li style="color: rgb(153, 153, 153);">67</li><li style="color: rgb(153, 153, 153);">68</li><li style="color: rgb(153, 153, 153);">69</li><li style="color: rgb(153, 153, 153);">70</li><li style="color: rgb(153, 153, 153);">71</li><li style="color: rgb(153, 153, 153);">72</li><li style="color: rgb(153, 153, 153);">73</li><li style="color: rgb(153, 153, 153);">74</li><li style="color: rgb(153, 153, 153);">75</li></ul></pre> 
			<h2><a name="t28"></a><a id="_1000"></a>与应用交互</h2> 
			<p>主要是使用 <code>am &lt;command&gt;</code> 命令，常用的 <code>&lt;command&gt;</code> 如下：</p> 
			<div class="table-box"><table><thead><tr><th>command</th><th>用途</th></tr></thead><tbody><tr><td><code>start [options] &lt;INTENT&gt;</code></td><td>启动 <code>&lt;INTENT&gt;</code> 指定的 Activity</td></tr><tr><td><code>startservice [options] &lt;INTENT&gt;</code></td><td>启动 <code>&lt;INTENT&gt;</code> 指定的 Service</td></tr><tr><td><code>broadcast [options] &lt;INTENT&gt;</code></td><td>发送 <code>&lt;INTENT&gt;</code> 指定的广播</td></tr><tr><td><code>force-stop &lt;packagename&gt;</code></td><td>停止 <code>&lt;packagename&gt;</code> 相关的进程</td></tr></tbody></table></div> 
			<p><code>&lt;INTENT&gt;</code> 参数很灵活，和写 Android 程序时代码里的 Intent 相对应。</p> 
			<p>用于决定 intent 对象的选项如下：</p> 
			<div class="table-box"><table><thead><tr><th>参数</th><th>含义</th></tr></thead><tbody><tr><td><code>-a &lt;ACTION&gt;</code></td><td>指定 action，比如 <code>android.intent.action.VIEW</code></td></tr><tr><td><code>-c &lt;CATEGORY&gt;</code></td><td>指定 category，比如 <code>android.intent.category.APP_CONTACTS</code></td></tr><tr><td><code>-n &lt;COMPONENT&gt;</code></td><td>指定完整 component 名，用于明确指定启动哪个 Activity，如 <code>com.example.app/.ExampleActivity</code></td></tr></tbody></table></div> 
			<p><code>&lt;INTENT&gt;</code> 里还能带数据，就像写代码时的 Bundle 一样：</p> 
			<div class="table-box"><table><thead><tr><th>参数</th><th>含义</th></tr></thead><tbody><tr><td><code>--esn &lt;EXTRA_KEY&gt;</code></td><td>null 值（只有 key 名）</td></tr><tr><td>`-e</td><td>--es &lt;EXTRA_KEY&gt; &lt;EXTRA_STRING_VALUE&gt;`</td></tr><tr><td><code>--ez &lt;EXTRA_KEY&gt; &lt;EXTRA_BOOLEAN_VALUE&gt;</code></td><td>boolean 值</td></tr><tr><td><code>--ei &lt;EXTRA_KEY&gt; &lt;EXTRA_INT_VALUE&gt;</code></td><td>integer 值</td></tr><tr><td><code>--el &lt;EXTRA_KEY&gt; &lt;EXTRA_LONG_VALUE&gt;</code></td><td>long 值</td></tr><tr><td><code>--ef &lt;EXTRA_KEY&gt; &lt;EXTRA_FLOAT_VALUE&gt;</code></td><td>float 值</td></tr><tr><td><code>--eu &lt;EXTRA_KEY&gt; &lt;EXTRA_URI_VALUE&gt;</code></td><td>URI</td></tr><tr><td><code>--ecn &lt;EXTRA_KEY&gt; &lt;EXTRA_COMPONENT_NAME_VALUE&gt;</code></td><td>component name</td></tr><tr><td><code>--eia &lt;EXTRA_KEY&gt; &lt;EXTRA_INT_VALUE&gt;[,&lt;EXTRA_INT_VALUE...]</code></td><td>integer 数组</td></tr><tr><td><code>--ela &lt;EXTRA_KEY&gt; &lt;EXTRA_LONG_VALUE&gt;[,&lt;EXTRA_LONG_VALUE...]</code></td><td>long 数组</td></tr></tbody></table></div> 
			<h3><a name="t29"></a><a id="_Activity_1100"></a>调起 Activity</h3> 
			<p>命令格式：</p> 
			<pre data-index="46" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell am start [options] &lt;INTENT&gt;
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>例如：</p> 
			<pre data-index="47" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell am start -n com.tencent.mm/.ui.LauncherUI
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>表示调起微信主界面。</p> 
			<pre data-index="48" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell am start -n org.mazhuang.boottimemeasure/.MainActivity --es "toast" "hello, world"
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>表示调起 org.mazhuang.boottimemeasure/.MainActivity 并传给它 string 数据键值对 toast - hello, world。</p> 
			<h3><a name="t30"></a><a id="_Service_1123"></a>调起 Service</h3> 
			<p>命令格式：</p> 
			<pre data-index="49" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell am startservice [options] &lt;INTENT&gt;
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>例如：</p> 
			<pre data-index="50" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell am startservice -n com.tencent.mm/.plugin.accountsync.model.AccountAuthenticatorService
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>表示调起微信的某 Service。</p> 
			<h3><a name="t31"></a><a id="_1140"></a>发送广播</h3> 
			<p>命令格式：</p> 
			<pre data-index="51" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell am broadcast [options] &lt;INTENT&gt;
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>可以向所有组件广播，也可以只向指定组件广播。</p> 
			<p>例如，向所有组件广播 BOOT_COMPLETED：</p> 
			<pre data-index="52" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell am broadcast -a android.intent.action.BOOT_COMPLETED
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>又例如，只向 org.mazhuang.boottimemeasure/.BootCompletedReceiver 广播 BOOT_COMPLETED：</p> 
			<pre data-index="53" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell am broadcast -a android.intent.action.BOOT_COMPLETED -n org.mazhuang.boottimemeasure/.BootCompletedReceiver
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>这类用法在测试的时候很实用，比如某个广播的场景很难制造，可以考虑通过这种方式来发送广播。<br> 既能发送系统预定义的广播，也能发送自定义广播。如下是部分系统预定义广播及正常触发时机：</p> 
			<div class="table-box"><table><thead><tr><th>action</th><th>触发时机</th></tr></thead><tbody><tr><td>android.net.conn.CONNECTIVITY_CHANGE</td><td>网络连接发生变化</td></tr><tr><td>android.intent.action.SCREEN_ON</td><td>屏幕点亮</td></tr><tr><td>android.intent.action.SCREEN_OFF</td><td>屏幕熄灭</td></tr><tr><td>android.intent.action.BATTERY_LOW</td><td>电量低，会弹出电量低提示框</td></tr><tr><td>android.intent.action.BATTERY_OKAY</td><td>电量恢复了</td></tr><tr><td>android.intent.action.BOOT_COMPLETED</td><td>设备启动完毕</td></tr><tr><td>android.intent.action.DEVICE_STORAGE_LOW</td><td>存储空间过低</td></tr><tr><td>android.intent.action.DEVICE_STORAGE_OK</td><td>存储空间恢复</td></tr><tr><td>android.intent.action.PACKAGE_ADDED</td><td>安装了新的应用</td></tr><tr><td>android.net.wifi.STATE_CHANGE</td><td>WiFi 连接状态发生变化</td></tr><tr><td>android.net.wifi.WIFI_STATE_CHANGED</td><td>WiFi 状态变为启用/关闭/正在启动/正在关闭/未知</td></tr><tr><td>android.intent.action.BATTERY_CHANGED</td><td>电池电量发生变化</td></tr><tr><td>android.intent.action.INPUT_METHOD_CHANGED</td><td>系统输入法发生变化</td></tr><tr><td>android.intent.action.ACTION_POWER_CONNECTED</td><td>外部电源连接</td></tr><tr><td>android.intent.action.ACTION_POWER_DISCONNECTED</td><td>外部电源断开连接</td></tr><tr><td>android.intent.action.DREAMING_STARTED</td><td>系统开始休眠</td></tr><tr><td>android.intent.action.DREAMING_STOPPED</td><td>系统停止休眠</td></tr><tr><td>android.intent.action.WALLPAPER_CHANGED</td><td>壁纸发生变化</td></tr><tr><td>android.intent.action.HEADSET_PLUG</td><td>插入耳机</td></tr><tr><td>android.intent.action.MEDIA_UNMOUNTED</td><td>卸载外部介质</td></tr><tr><td>android.intent.action.MEDIA_MOUNTED</td><td>挂载外部介质</td></tr><tr><td>android.os.action.POWER_SAVE_MODE_CHANGED</td><td>省电模式开启</td></tr></tbody></table></div> 
			<p><em>（以上广播均可使用 adb 触发）</em></p> 
			<h3><a name="t32"></a><a id="_1265"></a>强制停止应用</h3> 
			<p>命令：</p> 
			<pre data-index="54" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell am force-stop &lt;packagename&gt;
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>命令示例：</p> 
			<pre data-index="55" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell am force-stop com.qihoo360.mobilesafe
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>表示停止 360 安全卫士的一切进程与服务。</p> 
			<h3><a name="t33"></a><a id="_1281"></a>禁用应用和启动</h3> 
			<p>命令示例：</p> 
			<pre data-index="56" class="prettyprint"><code class="prism language-java has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell  pm disable<span class="token operator">-</span>user  <span class="token generics"><span class="token punctuation">&lt;</span>packagename<span class="token punctuation">&gt;</span></span>
			adb shell pm disable <span class="token generics"><span class="token punctuation">&lt;</span>packagename<span class="token punctuation">&gt;</span></span>
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li></ul></pre> 
			<pre data-index="57" class="prettyprint"><code class="prism language-java has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell pm disable<span class="token operator">-</span>user <span class="token punctuation">[</span>options<span class="token punctuation">]</span> <span class="token generics"><span class="token punctuation">&lt;</span>packagename<span class="token punctuation">&gt;</span></span>
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>命令示例：</p> 
			<pre data-index="58" class="prettyprint"><code class="prism language-java has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell pm enable  <span class="token generics"><span class="token punctuation">&lt;</span>packagename<span class="token punctuation">&gt;</span></span>
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<h3><a name="t34"></a><a id="_1300"></a>撤消应用程序的权限</h3> 
			<ol><li>向应用授予权限。只能授予应用程序声明的可选权限</li></ol> 
			<pre data-index="59" class="prettyprint"><code class="prism language-java has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell pm grant <span class="token generics"><span class="token punctuation">&lt;</span>packagename<span class="token punctuation">&gt;</span></span> <span class="token generics"><span class="token punctuation">&lt;</span>PACKAGE_PERMISSION<span class="token punctuation">&gt;</span></span>
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>例如：<code>adb -d shell pm grant packageName android.permission.BATTERY_STATS</code></p> 
			<ol start="2"><li>取消应用授权</li></ol> 
			<pre data-index="60" class="prettyprint"><code class="prism language-java has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell pm revoke <span class="token generics"><span class="token punctuation">&lt;</span>packagename<span class="token punctuation">&gt;</span></span> <span class="token generics"><span class="token punctuation">&lt;</span>PACKAGE_PERMISSION<span class="token punctuation">&gt;</span></span>
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>选项<code>--user user_id：要禁用的用户</code>比如,向应用授予权限。在运行Android 6.0（API级别23）及更高版本的设备上，该权限可以是应用清单中声明的​​任何权限。在运行Android 5.1（API级别22）及更低版本的设备上，必须是应用程序定义的可选权限。</p> 
			<blockquote> 
			 <p>免责声明：以上命令为非常规命令，对于您的设备的任何损坏，强行停止等，我概不负责。您正在对您的设备执行此操作，您自己承担责任。</p> 
			</blockquote> 
			<h2><a name="t35"></a><a id="_1317"></a>文件管理</h2> 
			<h3><a name="t36"></a><a id="_1320"></a>复制设备里的文件到电脑</h3> 
			<p>命令：</p> 
			<pre data-index="61" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb pull &lt;设备里的文件路径&gt; [电脑上的目录]
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>其中 电脑上的目录 参数可以省略，默认复制到当前目录。</p> 
			<p>例：</p> 
			<pre data-index="62" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb pull /sdcard/sr.mp4 ~/tmp/
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>*小技巧：*设备上的文件路径可能需要 root 权限才能访问，如果你的设备已经 root 过，可以先使用 adb shell 和 su 命令在 adb shell 里获取 root 权限后，先 cp /path/on/device /sdcard/filename 将文件复制到 sdcard，然后 adb pull /sdcard/filename /path/on/pc。</p> 
			<h3><a name="t37"></a><a id="_1339"></a>复制电脑里的文件到设备</h3> 
			<p>命令：</p> 
			<pre data-index="63" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb push &lt;电脑上的文件路径&gt; &lt;设备里的目录&gt;
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>例：</p> 
			<pre data-index="64" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb push ~/sr.mp4 /sdcard/
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>*小技巧：*设备上的文件路径普通权限可能无法直接写入，如果你的设备已经 root 过，可以先 adb push /path/on/pc /sdcard/filename，然后 adb shell 和 su 在 adb shell 里获取 root 权限后，cp /sdcard/filename /path/on/device。</p> 
			<h2><a name="t38"></a><a id="_1356"></a>模拟按键/输入</h2> 
			<p>在 adb shell 里有个很实用的命令叫 input，通过它可以做一些有趣的事情。<br> input 命令的完整 help 信息如下：</p> 
			<pre data-index="65" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">Usage: input [&lt;source&gt;] &lt;command&gt; [&lt;arg&gt;...]
			
			The sources are:
				  mouse
				  keyboard
				  joystick
				  touchnavigation
				  touchpad
				  trackball
				  stylus
				  dpad
				  gesture
				  touchscreen
				  gamepad
			
			The commands and default sources are:
				  text &lt;string&gt; (Default: touchscreen)
				  keyevent [--longpress] &lt;key code number or name&gt; ... (Default: keyboard)
				  tap &lt;x&gt; &lt;y&gt; (Default: touchscreen)
				  swipe &lt;x1&gt; &lt;y1&gt; &lt;x2&gt; &lt;y2&gt; [duration(ms)] (Default: touchscreen)
				  press (Default: trackball)
				  roll &lt;dx&gt; &lt;dy&gt; (Default: trackball)
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li><li style="color: rgb(153, 153, 153);">6</li><li style="color: rgb(153, 153, 153);">7</li><li style="color: rgb(153, 153, 153);">8</li><li style="color: rgb(153, 153, 153);">9</li><li style="color: rgb(153, 153, 153);">10</li><li style="color: rgb(153, 153, 153);">11</li><li style="color: rgb(153, 153, 153);">12</li><li style="color: rgb(153, 153, 153);">13</li><li style="color: rgb(153, 153, 153);">14</li><li style="color: rgb(153, 153, 153);">15</li><li style="color: rgb(153, 153, 153);">16</li><li style="color: rgb(153, 153, 153);">17</li><li style="color: rgb(153, 153, 153);">18</li><li style="color: rgb(153, 153, 153);">19</li><li style="color: rgb(153, 153, 153);">20</li><li style="color: rgb(153, 153, 153);">21</li><li style="color: rgb(153, 153, 153);">22</li></ul></pre> 
			<p>比如模拟点击：//在屏幕上点击坐标点x=50 y=250的位置。</p> 
			<blockquote> 
			 <p>adb shell input tap 50 250</p> 
			</blockquote> 
			<p>比如使用 adb shell input keyevent 命令，不同的 keycode 能实现不同的功能，完整的 keycode 列表详见 KeyEvent，摘引部分我觉得有意思的如下：</p> 
			<div class="table-box"><table><thead><tr><th>keycode</th><th>含义</th></tr></thead><tbody><tr><td>3</td><td>HOME 键</td></tr><tr><td>4</td><td>返回键</td></tr><tr><td>5</td><td>打开拨号应用</td></tr><tr><td>6</td><td>挂断电话</td></tr><tr><td>24</td><td>增加音量</td></tr><tr><td>25</td><td>降低音量</td></tr><tr><td>26</td><td>电源键</td></tr><tr><td>27</td><td>拍照（需要在相机应用里）</td></tr><tr><td>64</td><td>打开浏览器</td></tr><tr><td>82</td><td>菜单键</td></tr><tr><td>85</td><td>播放/暂停</td></tr><tr><td>86</td><td>停止播放</td></tr><tr><td>87</td><td>播放下一首</td></tr><tr><td>88</td><td>播放上一首</td></tr><tr><td>122</td><td>移动光标到行首或列表顶部</td></tr><tr><td>123</td><td>移动光标到行末或列表底部</td></tr><tr><td>126</td><td>恢复播放</td></tr><tr><td>127</td><td>暂停播放</td></tr><tr><td>164</td><td>静音</td></tr><tr><td>176</td><td>打开系统设置</td></tr><tr><td>187</td><td>切换应用</td></tr><tr><td>207</td><td>打开联系人</td></tr><tr><td>208</td><td>打开日历</td></tr><tr><td>209</td><td>打开音乐</td></tr><tr><td>210</td><td>打开计算器</td></tr><tr><td>220</td><td>降低屏幕亮度</td></tr><tr><td>221</td><td>提高屏幕亮度</td></tr><tr><td>223</td><td>系统休眠</td></tr><tr><td>224</td><td>点亮屏幕</td></tr><tr><td>231</td><td>打开语音助手</td></tr><tr><td>276</td><td>如果没有 wakelock 则让系统休眠</td></tr></tbody></table></div> 
			<p>下面是 input 命令的一些用法举例。</p> 
			<h3><a name="t39"></a><a id="_1527"></a>电源键</h3> 
			<pre data-index="66" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">db shell input keyevent 26
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>执行效果相当于按电源键。</p> 
			<h3><a name="t40"></a><a id="_1535"></a>菜单键</h3> 
			<p>命令：</p> 
			<pre data-index="67" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell input keyevent 82
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<h3><a name="t41"></a><a id="HOME__1544"></a>HOME 键</h3> 
			<p>命令：</p> 
			<pre data-index="68" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell input keyevent 3
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<h3><a name="t42"></a><a id="_1553"></a>返回键</h3> 
			<p>命令：</p> 
			<pre data-index="69" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell input keyevent 4
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<h3><a name="t43"></a><a id="_1562"></a>音量控制</h3> 
			<p><strong>增加音量：</strong></p> 
			<pre data-index="70" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell input keyevent 24
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p><strong>降低音量：</strong></p> 
			<pre data-index="71" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell input keyevent 25
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p><strong>静音：</strong></p> 
			<pre data-index="72" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell input keyevent 164
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<h3><a name="t44"></a><a id="_1583"></a>媒体控制</h3> 
			<p><strong>播放/暂停：</strong></p> 
			<pre data-index="73" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell input keyevent 85
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p><strong>停止播放：</strong></p> 
			<pre data-index="74" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell input keyevent 86
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p><strong>播放下一首：</strong></p> 
			<pre data-index="75" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell input keyevent 87
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p><strong>播放上一首：</strong></p> 
			<pre data-index="76" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell input keyevent 88
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p><strong>恢复播放：</strong></p> 
			<pre data-index="77" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell input keyevent 126
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p><strong>暂停播放：</strong></p> 
			<pre data-index="78" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell input keyevent 127
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<h3><a name="t45"></a><a id="_1621"></a>点亮/熄灭屏幕</h3> 
			<p>可以通过上文讲述过的模拟电源键来切换点亮和熄灭屏幕，但如果明确地想要点亮或者熄灭屏幕，那可以使用如下方法。</p> 
			<p><strong>点亮屏幕：</strong></p> 
			<pre data-index="79" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell input keyevent 224
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p><strong>熄灭屏幕：</strong></p> 
			<pre data-index="80" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell input keyevent 223
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<h3><a name="t46"></a><a id="_1638"></a>滑动解锁</h3> 
			<p>如果锁屏没有密码，是通过滑动手势解锁，那么可以通过 input swipe 来解锁。</p> 
			<p>命令（参数以机型 Nexus 5，向上滑动手势解锁举例）：</p> 
			<pre data-index="81" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell input swipe 300 1000 300 500
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>参数 300 1000 300 500 分别表示起始点x坐标 起始点y坐标 结束点x坐标 结束点y坐标。</p> 
			<h3><a name="t47"></a><a id="_1651"></a>输入文本</h3> 
			<p>在焦点处于某文本框时，可以通过 input 命令来输入文本。</p> 
			<p>命令：</p> 
			<pre data-index="82" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell input text hello
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>现在 hello 出现在文本框了。</p> 
			<h2><a name="t48"></a><a id="_1664"></a>查看日志</h2> 
			<p>Android 系统的日志分为两部分，底层的 Linux 内核日志输出到 /proc/kmsg，Android 的日志输出到 /dev/log。</p> 
			<h3><a name="t49"></a><a id="Android__1669"></a>Android 日志</h3> 
			<p>命令格式：</p> 
			<pre data-index="83" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">[adb] logcat [&lt;option&gt;] ... [&lt;filter-spec&gt;] ...
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>常用用法列举如下：</p> 
			<p>按级别过滤日志</p> 
			<p>Android 的日志分为如下几个优先级（priority）：</p> 
			<ul><li>V —— Verbose（最低，输出得最多）</li><li>D —— Debug I —— Info</li><li>W —— Warning</li><li>E —— Error</li><li>F—— Fatal</li><li>S —— Silent（最高，啥也不输出）</li></ul> 
			<p>按某级别过滤日志则会将该级别及以上的日志输出。</p> 
			<p>比如，命令：</p> 
			<pre data-index="84" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb logcat *:W
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>会将 Warning、Error、Fatal 和 Silent 日志输出。</p> 
			<p>（注： 在 macOS 下需要给 <em>:W 这样以 * 作为 tag 的参数加双引号，如 adb logcat "</em>:W"，不然会报错 no matches found: *:W。）</p> 
			<p><strong>按 tag 和级别过滤日志</strong></p> 
			<p><code>&lt;filter-spec&gt;</code> 可以由多个 <code>&lt;tag&gt;[:priority]</code> 组成。</p> 
			<p>比如，命令：</p> 
			<pre data-index="85" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb logcat ActivityManager:I MyApp:D *:S
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>表示输出 tag ActivityManager 的 Info 以上级别日志，输出 tag MyApp 的 Debug 以上级别日志，及其它 tag 的 Silent 级别日志（即屏蔽其它 tag 日志）。</p> 
			<p><strong>日志格式</strong></p> 
			<p>可以用 <code>adb logcat -v &lt;format&gt;</code> 选项指定日志输出格式。</p> 
			<p>日志支持按以下几种 <code>&lt;format&gt;</code>：</p> 
			<ul><li> <p>brief</p> <p>默认格式。格式为：</p> <pre data-index="86" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;"> &lt;priority&gt;/&lt;tag&gt;(&lt;pid&gt;): &lt;message&gt;
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> </li></ul> 
			<p>示例：</p> 
			<pre data-index="87" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">	D/HeadsetStateMachine( 1785): Disconnected process message: 10, size: 0
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<ul><li> <p>process</p> <p>格式为：</p> <pre data-index="88" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;"> &lt;priority&gt;(&lt;pid&gt;) &lt;message&gt;
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> </li></ul> 
			<p>示例：</p> 
			<pre data-index="89" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">	D( 1785) Disconnected process message: 10, size: 0  (HeadsetStateMachine)
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<ul><li> <p>tag</p> <p>格式为：</p> <pre data-index="90" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;"> &lt;priority&gt;/&lt;tag&gt;: &lt;message&gt;
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> </li></ul> 
			<p>示例：</p> 
			<pre data-index="91" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">	D/HeadsetStateMachine: Disconnected process message: 10, size: 0 
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<ul><li> <p>raw</p> <p>格式为：</p> <pre data-index="92" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;"> &lt;message&gt;
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> <p>示例：</p> <pre data-index="93" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;"> Disconnected process message: 10, size: 0 
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> </li><li> <p>time</p> <p>格式为：</p> <pre data-index="94" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;"> &lt;datetime&gt; &lt;priority&gt;/&lt;tag&gt;(&lt;pid&gt;): &lt;message&gt;
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> <p>示例：</p> <pre data-index="95" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;"> 08-28 22:39:39.974 D/HeadsetStateMachine( 1785): Disconnected process message: 10, size: 0
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> </li><li> <p>threadtime</p> <p>格式为：</p> <pre data-index="96" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;"> &lt;datetime&gt; &lt;pid&gt; &lt;tid&gt; &lt;priority&gt; &lt;tag&gt;: &lt;message&gt;
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> <p>示例：</p> <pre data-index="97" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;"> 08-28 22:39:39.974  1785  1832 D HeadsetStateMachine: Disconnected process message: 10, size: 0
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> </li><li> <p>long</p> <p>格式为：</p> <pre data-index="98" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;"> [ &lt;datetime&gt; &lt;pid&gt;:&lt;tid&gt; &lt;priority&gt;/&lt;tag&gt; ]	&lt;message&gt;
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> </li></ul> 
			<p>示例：</p> 
			<pre data-index="99" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">	[ 08-28 22:39:39.974  1785: 1832 D/HeadsetStateMachine ] Disconnected process message: 10, size: 0
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>指定格式可与上面的过滤同时使用。比如：</p> 
			<pre data-index="100" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb logcat -v long ActivityManager:I *:S
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p><strong>清空日志</strong></p> 
			<pre data-index="101" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb logcat -c
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<h3><a name="t50"></a><a id="_1796"></a>内核日志</h3> 
			<p>命令：</p> 
			<pre data-index="102" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell dmesg
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>输出示例：</p> 
			<pre data-index="103" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">&lt;6&gt;[14201.684016] PM: noirq resume of devices complete after 0.982 msecs
			&lt;6&gt;[14201.685525] PM: early resume of devices complete after 0.838 msecs
			&lt;6&gt;[14201.753642] PM: resume of devices complete after 68.106 msecs
			&lt;4&gt;[14201.755954] Restarting tasks ... done.
			&lt;6&gt;[14201.771229] PM: suspend exit 2016-08-28 13:31:32.679217193 UTC
			&lt;6&gt;[14201.872373] PM: suspend entry 2016-08-28 13:31:32.780363596 UTC
			&lt;6&gt;[14201.872498] PM: Syncing filesystems ... done.
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li><li style="color: rgb(153, 153, 153);">6</li><li style="color: rgb(153, 153, 153);">7</li></ul></pre> 
			<p>中括号里的 [14201.684016] 代表内核开始启动后的时间，单位为秒。</p> 
			<p>通过内核日志我们可以做一些事情，比如衡量内核启动时间，在系统启动完毕后的内核日志里找到 Freeing init memory 那一行前面的时间就是。</p> 
			<h2><a name="t51"></a><a id="_1821"></a>查看设备信息</h2> 
			<h3><a name="t52"></a><a id="_1824"></a>型号</h3> 
			<p>命令：</p> 
			<pre data-index="104" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell getprop ro.product.model
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>输出示例：</p> 
			<p>Nexus 5</p> 
			<h3><a name="t53"></a><a id="_1837"></a>电池状况</h3> 
			<p>命令：</p> 
			<pre data-index="105" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell dumpsys battery
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>输入示例：</p> 
			<pre data-index="106" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">  Current Battery Service state:
			  AC powered: false
			  USB powered: true
			  Wireless powered: false
			  status: 2
			  health: 2
			  present: true
			  level: 44
			  scale: 100
			  voltage: 3872
			  temperature: 280
			  technology: Li-poly
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li><li style="color: rgb(153, 153, 153);">6</li><li style="color: rgb(153, 153, 153);">7</li><li style="color: rgb(153, 153, 153);">8</li><li style="color: rgb(153, 153, 153);">9</li><li style="color: rgb(153, 153, 153);">10</li><li style="color: rgb(153, 153, 153);">11</li><li style="color: rgb(153, 153, 153);">12</li></ul></pre> 
			<p>其中 scale 代表最大电量，level 代表当前电量。上面的输出表示还剩下 44% 的电量。</p> 
			<h3><a name="t54"></a><a id="_1865"></a>屏幕分辨率</h3> 
			<p>命令：</p> 
			<pre data-index="107" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell wm size
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>输出示例：</p> 
			<pre data-index="108" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">Physical size: 1080x1920
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>该设备屏幕分辨率为 1080px * 1920px。</p> 
			<p>如果使用命令修改过，那输出可能是：</p> 
			<pre data-index="109" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">Physical size: 1080x1920
			Override size: 480x1024
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li></ul></pre> 
			<p>表明设备的屏幕分辨率原本是 1080px * 1920px，当前被修改为 480px * 1024px。</p> 
			<h3><a name="t55"></a><a id="_1891"></a>屏幕密度</h3> 
			<p>命令：</p> 
			<p>adb shell wm density<br> 输出示例：</p> 
			<p>Physical density: 420<br> 该设备屏幕密度为 420dpi。</p> 
			<p>如果使用命令修改过，那输出可能是：</p> 
			<p>Physical density: 480<br> Override density: 160<br> 表明设备的屏幕密度原来是 480dpi，当前被修改为 160dpi。</p> 
			<h3><a name="t56"></a><a id="_1908"></a>显示屏参数</h3> 
			<p>命令：</p> 
			<pre data-index="110" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell dumpsys window displays
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>输出示例：</p> 
			<pre data-index="111" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">WINDOW MANAGER DISPLAY CONTENTS (dumpsys window displays)
			  Display: mDisplayId=0
				init=1080x1920 420dpi cur=1080x1920 app=1080x1794 rng=1080x1017-1810x1731
				deferred=false layoutNeeded=false
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li></ul></pre> 
			<p>其中 mDisplayId 为 显示屏编号，init 是初始分辨率和屏幕密度，app 的高度比 init 里的要小，表示屏幕底部有虚拟按键，高度为 1920 - 1794 = 126px 合 42dp。</p> 
			<h3><a name="t57"></a><a id="android_id_1928"></a>android_id</h3> 
			<p>命令：</p> 
			<pre data-index="112" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell settings get secure android_id
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>输出示例：</p> 
			<pre data-index="113" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">51b6be48bac8c569
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<h3><a name="t58"></a><a id="IMEI_1943"></a>IMEI</h3> 
			<p>在 Android 4.4 及以下版本可通过如下命令获取 IMEI：</p> 
			<pre data-index="114" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell dumpsys iphonesubinfo
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>输出示例：</p> 
			<pre data-index="115" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">Phone Subscriber Info:
			  Phone Type = GSM
			  Device ID = 860955027785041
			其中的 Device ID 就是 IMEI。
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li></ul></pre> 
			<p>而在 Android 5.0 及以上版本里这个命令输出为空，得通过其它方式获取了（需要 root 权限）：</p> 
			<pre data-index="116" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell
			su
			service call iphonesubinfo 1
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li></ul></pre> 
			<p>输出示例：</p> 
			<pre data-index="117" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">Result: Parcel(
			  0x00000000: 00000000 0000000f 00360038 00390030 '........8.6.0.9.'
			  0x00000010: 00350035 00320030 00370037 00350038 '5.5.0.2.7.7.8.5.'
			  0x00000020: 00340030 00000031                   '0.4.1...        ')
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li></ul></pre> 
			<p>把里面的有效内容提取出来就是 IMEI 了，比如这里的是 860955027785041。</p> 
			<p>参考：adb shell dumpsys iphonesubinfo not working since Android 5.0 Lollipop</p> 
			<h3><a name="t59"></a><a id="Android__1982"></a>Android 系统版本</h3> 
			<p>命令：</p> 
			<pre data-index="118" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell getprop ro.build.version.release
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>输出示例：</p> 
			<p>5.0.2</p> 
			<h3><a name="t60"></a><a id="IP__1995"></a>IP 地址</h3> 
			<p>每次想知道设备的 IP 地址的时候都得「设置」-「关于手机」-「状态信息」-「IP地址」很烦对不对？通过 adb 可以方便地查看。</p> 
			<p>命令：</p> 
			<pre data-index="119" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell ifconfig "| grep Mask"
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>输出示例：</p> 
			<pre data-index="120" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">inet addr:10.130.245.230  Mask:255.255.255.252
			inet addr:127.0.0.1  Mask:255.0.0.0
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li></ul></pre> 
			<p>那么 10.130.245.230 就是设备 IP 地址。</p> 
			<p>在有的设备上这个命令没有输出，如果设备连着 WiFi，可以使用如下命令来查看局域网 adb shell ifconfig wlan0例：</p> 
			<pre data-index="121" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">wlan0: ip 10.129.160.99 mask 255.255.240.0 flags [up broadcast running multicast]
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>或</p> 
			<pre data-index="122" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">wlan0     Link encap:UNSPEC
					  inet addr:10.129.168.57  Bcast:10.129.175.255  Mask:255.255.240.0
					  inet6 addr: fe80::66cc:2eff:fe68:b6b6/64 Scope: Link
					  UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
					  RX packets:496520 errors:0 dropped:0 overruns:0 frame:0
					  TX packets:68215 errors:0 dropped:0 overruns:0 carrier:0
					  collisions:0 txqueuelen:3000
					  RX bytes:116266821 TX bytes:8311736
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li><li style="color: rgb(153, 153, 153);">6</li><li style="color: rgb(153, 153, 153);">7</li><li style="color: rgb(153, 153, 153);">8</li></ul></pre> 
			<p>如果以上命令仍然不能得到期望的信息，那可以试试以下命令（部分系统版本里可用）：</p> 
			<pre data-index="123" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell netcfg
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>输出示例：</p> 
			<pre data-index="124" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">wlan0    UP                               10.129.160.99/20  0x00001043 f8:a9:d0:17:42:4d
			lo       UP                                   127.0.0.1/8   0x00000049 00:00:00:00:00:00
			p2p0     UP                                     0.0.0.0/0   0x00001003 fa:a9:d0:17:42:4d
			sit0     DOWN                                   0.0.0.0/0   0x00000080 00:00:00:00:00:00
			rmnet0   DOWN                                   0.0.0.0/0   0x00000000 00:00:00:00:00:00
			rmnet1   DOWN                                   0.0.0.0/0   0x00000000 00:00:00:00:00:00
			rmnet3   DOWN                                   0.0.0.0/0   0x00000000 00:00:00:00:00:00
			rmnet2   DOWN                                   0.0.0.0/0   0x00000000 00:00:00:00:00:00
			rmnet4   DOWN                                   0.0.0.0/0   0x00000000 00:00:00:00:00:00
			rmnet6   DOWN                                   0.0.0.0/0   0x00000000 00:00:00:00:00:00
			rmnet5   DOWN                                   0.0.0.0/0   0x00000000 00:00:00:00:00:00
			rmnet7   DOWN                                   0.0.0.0/0   0x00000000 00:00:00:00:00:00
			rev_rmnet3 DOWN                                   0.0.0.0/0   0x00001002 4e:b7:e4:2e:17:58
			rev_rmnet2 DOWN                                   0.0.0.0/0   0x00001002 4e:f0:c8:bf:7a:cf
			rev_rmnet4 DOWN                                   0.0.0.0/0   0x00001002 a6:c0:3b:6b:c4:1f
			rev_rmnet6 DOWN                                   0.0.0.0/0   0x00001002 66:bb:5d:64:2e:e9
			rev_rmnet5 DOWN                                   0.0.0.0/0   0x00001002 0e:1b:eb:b9:23:a0
			rev_rmnet7 DOWN                                   0.0.0.0/0   0x00001002 7a:d9:f6:81:40:5a
			rev_rmnet8 DOWN                                   0.0.0.0/0   0x00001002 4e:e2:a9:bb:d0:1b
			rev_rmnet0 DOWN                                   0.0.0.0/0   0x00001002 fe:65:d0:ca:82:a9
			rev_rmnet1 DOWN                                   0.0.0.0/0   0x00001002 da:d8:e8:4f:2e:fe
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li><li style="color: rgb(153, 153, 153);">6</li><li style="color: rgb(153, 153, 153);">7</li><li style="color: rgb(153, 153, 153);">8</li><li style="color: rgb(153, 153, 153);">9</li><li style="color: rgb(153, 153, 153);">10</li><li style="color: rgb(153, 153, 153);">11</li><li style="color: rgb(153, 153, 153);">12</li><li style="color: rgb(153, 153, 153);">13</li><li style="color: rgb(153, 153, 153);">14</li><li style="color: rgb(153, 153, 153);">15</li><li style="color: rgb(153, 153, 153);">16</li><li style="color: rgb(153, 153, 153);">17</li><li style="color: rgb(153, 153, 153);">18</li><li style="color: rgb(153, 153, 153);">19</li><li style="color: rgb(153, 153, 153);">20</li><li style="color: rgb(153, 153, 153);">21</li></ul></pre> 
			<p>可以看到网络连接名称、启用状态、IP 地址和 Mac 地址等信息。</p> 
			<h3><a name="t61"></a><a id="Mac__2068"></a>Mac 地址</h3> 
			<p>命令：</p> 
			<pre data-index="125" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell cat /sys/class/net/wlan0/address
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>输出示例：</p> 
			<pre data-index="126" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">f8:a9:d0:17:42:4d
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>这查看的是局域网 Mac 地址，移动网络或其它连接的信息可以通过前面的小节「IP 地址」里提到的 adb shell netcfg 命令来查看。</p> 
			<h3><a name="t62"></a><a id="CPU__2085"></a>CPU 信息</h3> 
			<p>命令：</p> 
			<pre data-index="127" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell cat /proc/cpuinfo
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>输出示例：</p> 
			<pre data-index="128" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">Processor       : ARMv7 Processor rev 0 (v7l)
			processor       : 0
			BogoMIPS        : 38.40
			
			processor       : 1
			BogoMIPS        : 38.40
			
			processor       : 2
			BogoMIPS        : 38.40
			
			processor       : 3
			BogoMIPS        : 38.40
			
			Features        : swp half thumb fastmult vfp edsp neon vfpv3 tls vfpv4 idiva idivt
			CPU implementer : 0x51
			CPU architecture: 7
			CPU variant     : 0x2
			CPU part        : 0x06f
			CPU revision    : 0
			
			Hardware        : Qualcomm MSM 8974 HAMMERHEAD (Flattened Device Tree)
			Revision        : 000b
			Serial          : 0000000000000000
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li><li style="color: rgb(153, 153, 153);">6</li><li style="color: rgb(153, 153, 153);">7</li><li style="color: rgb(153, 153, 153);">8</li><li style="color: rgb(153, 153, 153);">9</li><li style="color: rgb(153, 153, 153);">10</li><li style="color: rgb(153, 153, 153);">11</li><li style="color: rgb(153, 153, 153);">12</li><li style="color: rgb(153, 153, 153);">13</li><li style="color: rgb(153, 153, 153);">14</li><li style="color: rgb(153, 153, 153);">15</li><li style="color: rgb(153, 153, 153);">16</li><li style="color: rgb(153, 153, 153);">17</li><li style="color: rgb(153, 153, 153);">18</li><li style="color: rgb(153, 153, 153);">19</li><li style="color: rgb(153, 153, 153);">20</li><li style="color: rgb(153, 153, 153);">21</li><li style="color: rgb(153, 153, 153);">22</li><li style="color: rgb(153, 153, 153);">23</li></ul></pre> 
			<p>这是 Nexus 5 的 CPU 信息，我们从输出里可以看到使用的硬件是 Qualcomm MSM 8974，processor 的编号是 0 到 3，所以它是四核的，采用的架构是 ARMv7 Processor rev 0 (v71)。</p> 
			<h3><a name="t63"></a><a id="_2124"></a>内存信息</h3> 
			<p>命令：</p> 
			<pre data-index="129" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell cat /proc/meminfo
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>输出示例：</p> 
			<pre data-index="130" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">MemTotal:        1027424 kB
			MemFree:          486564 kB
			Buffers:           15224 kB
			Cached:            72464 kB
			SwapCached:        24152 kB
			Active:           110572 kB
			Inactive:         259060 kB
			Active(anon):      79176 kB
			Inactive(anon):   207736 kB
			Active(file):      31396 kB
			Inactive(file):    51324 kB
			Unevictable:        3948 kB
			Mlocked:               0 kB
			HighTotal:        409600 kB
			HighFree:         132612 kB
			LowTotal:         617824 kB
			LowFree:          353952 kB
			SwapTotal:        262140 kB
			SwapFree:         207572 kB
			Dirty:                 0 kB
			Writeback:             0 kB
			AnonPages:        265324 kB
			Mapped:            47072 kB
			Shmem:              1020 kB
			Slab:              57372 kB
			SReclaimable:       7692 kB
			SUnreclaim:        49680 kB
			KernelStack:        4512 kB
			PageTables:         5912 kB
			NFS_Unstable:          0 kB
			Bounce:                0 kB
			WritebackTmp:          0 kB
			CommitLimit:      775852 kB
			Committed_AS:   13520632 kB
			VmallocTotal:     385024 kB
			VmallocUsed:       61004 kB
			VmallocChunk:     209668 kB
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li><li style="color: rgb(153, 153, 153);">6</li><li style="color: rgb(153, 153, 153);">7</li><li style="color: rgb(153, 153, 153);">8</li><li style="color: rgb(153, 153, 153);">9</li><li style="color: rgb(153, 153, 153);">10</li><li style="color: rgb(153, 153, 153);">11</li><li style="color: rgb(153, 153, 153);">12</li><li style="color: rgb(153, 153, 153);">13</li><li style="color: rgb(153, 153, 153);">14</li><li style="color: rgb(153, 153, 153);">15</li><li style="color: rgb(153, 153, 153);">16</li><li style="color: rgb(153, 153, 153);">17</li><li style="color: rgb(153, 153, 153);">18</li><li style="color: rgb(153, 153, 153);">19</li><li style="color: rgb(153, 153, 153);">20</li><li style="color: rgb(153, 153, 153);">21</li><li style="color: rgb(153, 153, 153);">22</li><li style="color: rgb(153, 153, 153);">23</li><li style="color: rgb(153, 153, 153);">24</li><li style="color: rgb(153, 153, 153);">25</li><li style="color: rgb(153, 153, 153);">26</li><li style="color: rgb(153, 153, 153);">27</li><li style="color: rgb(153, 153, 153);">28</li><li style="color: rgb(153, 153, 153);">29</li><li style="color: rgb(153, 153, 153);">30</li><li style="color: rgb(153, 153, 153);">31</li><li style="color: rgb(153, 153, 153);">32</li><li style="color: rgb(153, 153, 153);">33</li><li style="color: rgb(153, 153, 153);">34</li><li style="color: rgb(153, 153, 153);">35</li><li style="color: rgb(153, 153, 153);">36</li><li style="color: rgb(153, 153, 153);">37</li></ul></pre> 
			<p>其中，MemTotal 就是设备的总内存，MemFree 是当前空闲内存。</p> 
			<h3><a name="t64"></a><a id="_2177"></a>更多硬件与系统属性</h3> 
			<p>设备的更多硬件与系统属性可以通过如下命令查看：</p> 
			<pre data-index="131" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell cat /system/build.prop
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>这会输出很多信息，包括前面几个小节提到的「型号」和「Android 系统版本」等。</p> 
			<p>输出里还包括一些其它有用的信息，它们也可通过 adb shell getprop &lt;属性名&gt; 命令单独查看，列举一部分属性如下：</p> 
			<div class="table-box"><table><thead><tr><th>属性名</th><th>含义</th></tr></thead><tbody><tr><td>ro.build.version.sdk</td><td>SDK 版本</td></tr><tr><td>ro.build.version.release</td><td>Android 系统版本</td></tr><tr><td>ro.build.version.security_patch</td><td>Android 安全补丁程序级别</td></tr><tr><td>ro.product.model</td><td>型号</td></tr><tr><td>ro.product.brand</td><td>品牌</td></tr><tr><td>ro.product.name</td><td>设备名</td></tr><tr><td>ro.product.board</td><td>处理器型号</td></tr><tr><td>ro.product.cpu.abilist</td><td>CPU 支持的 abi 列表[<em>节注一</em>]</td></tr><tr><td>persist.sys.isUsbOtgEnabled</td><td>是否支持 OTG</td></tr><tr><td>dalvik.vm.heapsize</td><td>每个应用程序的内存上限</td></tr><tr><td>ro.sf.lcd_density</td><td>屏幕密度</td></tr></tbody></table></div> 
			<p><strong>节注一：</strong></p> 
			<p>一些小厂定制的 ROM 可能修改过 CPU 支持的 abi 列表的属性名，如果用 ro.product.cpu.abilist 属性名查找不到，可以这样试试：</p> 
			<pre data-index="132" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell cat /system/build.prop | grep ro.product.cpu.abi
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>示例输出：</p> 
			<pre data-index="133" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">ro.product.cpu.abi=armeabi-v7a
			ro.product.cpu.abi2=armeabi
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li></ul></pre> 
			<h2><a name="t65"></a><a id="_2257"></a>修改设置</h2> 
			<p><em>注： 修改设置之后，运行恢复命令有可能显示仍然不太正常，可以运行 adb reboot 重启设备，或手动重启。</em></p> 
			<p>修改设置的原理主要是通过 settings 命令修改 /data/data/com.android.providers.settings/databases/settings.db 里存放的设置值。</p> 
			<h3><a name="t66"></a><a id="_2264"></a>分辨率</h3> 
			<p>命令：</p> 
			<pre data-index="134" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell wm size 480x1024
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>表示将分辨率修改为 480px * 1024px。</p> 
			<p>恢复原分辨率命令：</p> 
			<pre data-index="135" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell wm size reset
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<h3><a name="t67"></a><a id="_2281"></a>屏幕密度</h3> 
			<p>命令：</p> 
			<pre data-index="136" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell wm density 160
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>表示将屏幕密度修改为 160dpi。</p> 
			<p>恢复原屏幕密度命令：</p> 
			<pre data-index="137" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell wm density reset
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<h3><a name="t68"></a><a id="_2298"></a>显示区域</h3> 
			<p>命令：</p> 
			<pre data-index="138" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell wm overscan 0,0,0,200
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>四个数字分别表示距离左、上、右、下边缘的留白像素，以上命令表示将屏幕底部 200px 留白。</p> 
			<p>恢复原显示区域命令：</p> 
			<pre data-index="139" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell wm overscan reset
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<h3><a name="t69"></a><a id="_USB__2315"></a>关闭 USB 调试模式</h3> 
			<p>命令：</p> 
			<p>adb shell settings put global adb_enabled 0<br> 恢复：</p> 
			<p>用命令恢复不了了，毕竟关闭了 USB 调试 adb 就连接不上 Android 设备了。</p> 
			<p>去设备上手动恢复吧：「设置」-「开发者选项」-「Android 调试」。</p> 
			<h3><a name="t70"></a><a id="_2327"></a>状态栏和导航栏的显示隐藏</h3> 
			<p>本节所说的相关设置对应 Cyanogenmod 里的「扩展桌面」。</p> 
			<p>命令：</p> 
			<pre data-index="140" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell settings put global policy_control &lt;key-values&gt;
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p><code>&lt;key-values&gt;</code> 可由如下几种键及其对应的值组成，格式为 <code>&lt;key1&gt;=&lt;value1&gt;:&lt;key2&gt;=&lt;value2&gt;</code>。</p> 
			<div class="table-box"><table><thead><tr><th>key</th><th>含义</th></tr></thead><tbody><tr><td>immersive.full</td><td>同时隐藏</td></tr><tr><td>immersive.status</td><td>隐藏状态栏</td></tr><tr><td>immersive.navigation</td><td>隐藏导航栏</td></tr><tr><td>immersive.preconfirms</td><td>?</td></tr></tbody></table></div> 
			<p>这些键对应的值可则如下值用逗号组合：</p> 
			<div class="table-box"><table><thead><tr><th>value</th><th>含义</th></tr></thead><tbody><tr><td><code>apps</code></td><td>所有应用</td></tr><tr><td><code>*</code></td><td>所有界面</td></tr><tr><td><code>packagename</code></td><td>指定应用</td></tr><tr><td><code>-packagename</code></td><td>排除指定应用</td></tr></tbody></table></div> 
			<p>例如：</p> 
			<pre data-index="141" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell settings put global policy_control immersive.full=*
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>表示设置在所有界面下都同时隐藏状态栏和导航栏。</p> 
			<pre data-index="142" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell settings put global policy_control immersive.status=com.package1,com.package2:immersive.navigation=apps,-com.package3
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>表示设置在包名为 com.package1 和 com.package2 的应用里隐藏状态栏，在除了包名为 com.package3 的所有应用里隐藏导航栏。</p> 
			<h3><a name="t71"></a><a id="_2407"></a>恢复正常模式</h3> 
			<p>不想全屏了咋办呢？</p> 
			<pre data-index="143" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell settings put global policy_control null
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<h2><a name="t72"></a><a id="_2415"></a>实用功能</h2> 
			<h3><a name="t73"></a><a id="_2418"></a>屏幕截图</h3> 
			<p><strong>截图保存到电脑：</strong></p> 
			<pre data-index="144" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb exec-out screencap -p &gt; sc.png
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>如果 adb 版本较老，无法使用 exec-out 命令，这时候建议更新 adb 版本。无法更新的话可以使用以下麻烦点的办法：</p> 
			<p>先截图保存到设备里：</p> 
			<pre data-index="145" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell screencap -p /sdcard/sc.png
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>然后将 png 文件导出到电脑：</p> 
			<pre data-index="146" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb pull /sdcard/sc.png
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>可以使用 adb shell screencap -h 查看 screencap 命令的帮助信息，下面是两个有意义的参数及含义：</p> 
			<div class="table-box"><table><thead><tr><th>参数</th><th>含义</th></tr></thead><tbody><tr><td>-p</td><td>指定保存文件为 png 格式</td></tr><tr><td>-d display-id</td><td>指定截图的显示屏编号（有多显示屏的情况下）</td></tr></tbody></table></div> 
			<p>实测如果指定文件名以 .png 结尾时可以省略 -p 参数；否则需要使用 -p 参数。如果不指定文件名，截图文件的内容将直接输出到 stdout。</p> 
			<p><strong>另外一种一行命令截图并保存到电脑的方法：</strong></p> 
			<p>Linux 和 Windows</p> 
			<pre data-index="147" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell screencap -p | sed "s/\r$//" &gt; sc.png
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>Mac OS X</p> 
			<pre data-index="148" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell screencap -p | gsed "s/\r$//" &gt; sc.png
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>这个方法需要用到 gnu sed 命令，在 Linux 下直接就有，在 Windows 下 Git 安装目录的 bin 文件夹下也有。如果确实找不到该命令，可以下载 sed for Windows 并将 sed.exe 所在文件夹添加到 PATH 环境变量里。</p> 
			<p>而在 Mac 下使用系统自带的 sed 命令会报错：</p> 
			<pre data-index="149" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">sed: RE error: illegal byte sequence
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>需要安装 gnu-sed，然后使用 gsed 命令：</p> 
			<pre data-index="150" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">brew install gnu-sed
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<h3><a name="t74"></a><a id="_2489"></a>录制屏幕</h3> 
			<p>录制屏幕以 mp4 格式保存到 /sdcard：</p> 
			<pre data-index="151" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell screenrecord /sdcard/filename.mp4
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>需要停止时按 Ctrl-C，默认录制时间和最长录制时间都是 180 秒。</p> 
			<p>如果需要导出到电脑：</p> 
			<pre data-index="152" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb pull /sdcard/filename.mp4
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>可以使用 adb shell screenrecord --help 查看 screenrecord 命令的帮助信息，下面是常见参数及含义：</p> 
			<div class="table-box"><table><thead><tr><th>参数</th><th>含义</th></tr></thead><tbody><tr><td>--size WIDTHxHEIGHT</td><td>视频的尺寸，比如 <code>1280x720</code>，默认是屏幕分辨率。</td></tr><tr><td>--bit-rate RATE</td><td>视频的比特率，默认是 4Mbps。</td></tr><tr><td>--time-limit TIME</td><td>录制时长，单位秒。</td></tr><tr><td>--verbose</td><td>输出更多信息。</td></tr></tbody></table></div> 
			<p><strong>重新挂载 system 分区为可写</strong></p> 
			<p><em>注：需要 root 权限。</em></p> 
			<p>/system 分区默认挂载为只读，但有些操作比如给 Android 系统添加命令、删除自带应用等需要对 /system 进行写操作，所以需要重新挂载它为可读写。</p> 
			<p>步骤：</p> 
			<p>进入 shell 并切换到 root 用户权限。</p> 
			<p>命令：</p> 
			<pre data-index="153" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell
			su
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li></ul></pre> 
			<p>查看当前分区挂载情况。</p> 
			<p>命令：</p> 
			<pre data-index="154" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">mount
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>输出示例：</p> 
			<pre data-index="155" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">rootfs / rootfs ro,relatime 0 0
			tmpfs /dev tmpfs rw,seclabel,nosuid,relatime,mode=755 0 0
			devpts /dev/pts devpts rw,seclabel,relatime,mode=600 0 0
			proc /proc proc rw,relatime 0 0
			sysfs /sys sysfs rw,seclabel,relatime 0 0
			selinuxfs /sys/fs/selinux selinuxfs rw,relatime 0 0
			debugfs /sys/kernel/debug debugfs rw,relatime 0 0
			none /var tmpfs rw,seclabel,relatime,mode=770,gid=1000 0 0
			none /acct cgroup rw,relatime,cpuacct 0 0
			none /sys/fs/cgroup tmpfs rw,seclabel,relatime,mode=750,gid=1000 0 0
			none /sys/fs/cgroup/memory cgroup rw,relatime,memory 0 0
			tmpfs /mnt/asec tmpfs rw,seclabel,relatime,mode=755,gid=1000 0 0
			tmpfs /mnt/obb tmpfs rw,seclabel,relatime,mode=755,gid=1000 0 0
			none /dev/memcg cgroup rw,relatime,memory 0 0
			none /dev/cpuctl cgroup rw,relatime,cpu 0 0
			none /sys/fs/cgroup tmpfs rw,seclabel,relatime,mode=750,gid=1000 0 0
			none /sys/fs/cgroup/memory cgroup rw,relatime,memory 0 0
			none /sys/fs/cgroup/freezer cgroup rw,relatime,freezer 0 0
			/dev/block/platform/msm_sdcc.1/by-name/system /system ext4 ro,seclabel,relatime,data=ordered 0 0
			/dev/block/platform/msm_sdcc.1/by-name/userdata /data ext4 rw,seclabel,nosuid,nodev,relatime,noauto_da_alloc,data=ordered 0 0
			/dev/block/platform/msm_sdcc.1/by-name/cache /cache ext4 rw,seclabel,nosuid,nodev,relatime,data=ordered 0 0
			/dev/block/platform/msm_sdcc.1/by-name/persist /persist ext4 rw,seclabel,nosuid,nodev,relatime,data=ordered 0 0
			/dev/block/platform/msm_sdcc.1/by-name/modem /firmware vfat ro,context=u:object_r:firmware_file:s0,relatime,uid=1000,gid=1000,fmask=0337,dmask=0227,codepage=cp437,iocharset=iso8859-1,shortname=lower,errors=remount-ro 0 0
			/dev/fuse /mnt/shell/emulated fuse rw,nosuid,nodev,relatime,user_id=1023,group_id=1023,default_permissions,allow_other 0 0
			/dev/fuse /mnt/shell/emulated/0 fuse rw,nosuid,nodev,relatime,user_id=1023,group_id=1023,default_permissions,allow_other 0 0
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li><li style="color: rgb(153, 153, 153);">6</li><li style="color: rgb(153, 153, 153);">7</li><li style="color: rgb(153, 153, 153);">8</li><li style="color: rgb(153, 153, 153);">9</li><li style="color: rgb(153, 153, 153);">10</li><li style="color: rgb(153, 153, 153);">11</li><li style="color: rgb(153, 153, 153);">12</li><li style="color: rgb(153, 153, 153);">13</li><li style="color: rgb(153, 153, 153);">14</li><li style="color: rgb(153, 153, 153);">15</li><li style="color: rgb(153, 153, 153);">16</li><li style="color: rgb(153, 153, 153);">17</li><li style="color: rgb(153, 153, 153);">18</li><li style="color: rgb(153, 153, 153);">19</li><li style="color: rgb(153, 153, 153);">20</li><li style="color: rgb(153, 153, 153);">21</li><li style="color: rgb(153, 153, 153);">22</li><li style="color: rgb(153, 153, 153);">23</li><li style="color: rgb(153, 153, 153);">24</li><li style="color: rgb(153, 153, 153);">25</li></ul></pre> 
			<p>找到其中我们关注的带 /system 的那一行：</p> 
			<pre data-index="156" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">/dev/block/platform/msm_sdcc.1/by-name/system /system ext4 ro,seclabel,relatime,data=ordered 0 0
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<h3><a name="t75"></a><a id="_2593"></a>重新挂载。</h3> 
			<p>命令：</p> 
			<pre data-index="157" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">mount -o remount,rw -t yaffs2 /dev/block/platform/msm_sdcc.1/by-name/system /system
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>这里的 /dev/block/platform/msm_sdcc.1/by-name/system 就是我们从上一步的输出里得到的文件路径。</p> 
			<p>如果输出没有提示错误的话，操作就成功了，可以对 /system 下的文件为所欲为了。</p> 
			<h3><a name="t76"></a><a id="_WiFi__2606"></a>查看连接过的 WiFi 密码</h3> 
			<p><em>注：需要 root 权限。</em></p> 
			<p>命令：</p> 
			<pre data-index="158" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell
			su
			cat /data/misc/wifi/*.conf
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li></ul></pre> 
			<p>输出示例：</p> 
			<pre data-index="159" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">network={
				ssid="TP-LINK_9DFC"
				scan_ssid=1
				psk="123456789"
				key_mgmt=WPA-PSK
				group=CCMP TKIP
				auth_alg=OPEN
				sim_num=1
				priority=13893
			}
			
			network={
				ssid="TP-LINK_F11E"
				psk="987654321"
				key_mgmt=WPA-PSK
				sim_num=1
				priority=17293
			}
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li><li style="color: rgb(153, 153, 153);">6</li><li style="color: rgb(153, 153, 153);">7</li><li style="color: rgb(153, 153, 153);">8</li><li style="color: rgb(153, 153, 153);">9</li><li style="color: rgb(153, 153, 153);">10</li><li style="color: rgb(153, 153, 153);">11</li><li style="color: rgb(153, 153, 153);">12</li><li style="color: rgb(153, 153, 153);">13</li><li style="color: rgb(153, 153, 153);">14</li><li style="color: rgb(153, 153, 153);">15</li><li style="color: rgb(153, 153, 153);">16</li><li style="color: rgb(153, 153, 153);">17</li><li style="color: rgb(153, 153, 153);">18</li></ul></pre> 
			<p>ssid 即为我们在 WLAN 设置里看到的名称，psk 为密码，key_mgmt 为安全加密方式。</p> 
			<h3><a name="t77"></a><a id="_2644"></a>设置系统日期和时间</h3> 
			<p><em>注：需要 root 权限。</em></p> 
			<p>命令：</p> 
			<pre data-index="160" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell
			su
			date -s 20160823.131500
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li></ul></pre> 
			<p>表示将系统日期和时间更改为 2016 年 08 月 23 日 13 点 15 分 00 秒。</p> 
			<h3><a name="t78"></a><a id="_2659"></a>重启手机</h3> 
			<p>命令：</p> 
			<pre data-index="161" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb reboot
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<h3><a name="t79"></a><a id="_root_2668"></a>检测设备是否已 root</h3> 
			<p>命令：</p> 
			<pre data-index="162" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell
			su
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li></ul></pre> 
			<p>此时命令行提示符是 $ 则表示没有 root 权限，是 # 则表示已 root。</p> 
			<h3><a name="t80"></a><a id="_Monkey__2680"></a>使用 Monkey 进行压力测试</h3> 
			<p>Monkey 可以生成伪随机用户事件来模拟单击、触摸、手势等操作，可以对正在开发中的程序进行随机压力测试。</p> 
			<p>简单用法：</p> 
			<pre data-index="163" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell monkey -p &lt;packagename&gt; -v 500
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>表示向 <code>&lt;packagename&gt;</code> 指定的应用程序发送 500 个伪随机事件。</p> 
			<p>Monkey 的详细用法参考 官方文档。</p> 
			<h3><a name="t81"></a><a id="_WiFi_2695"></a>开启/关闭 WiFi</h3> 
			<p>注：需要 root 权限。</p> 
			<p>有时需要控制设备的 WiFi 状态，可以用以下指令完成。</p> 
			<p>开启 WiFi：</p> 
			<pre data-index="164" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb root
			adb shell svc wifi enable
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li></ul></pre> 
			<p>关闭 WiFi：</p> 
			<pre data-index="165" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb root
			adb shell svc wifi disable
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li></ul></pre> 
			<p>设置wifi优先,有网络和wifi情况下优先使用wifi</p> 
			<pre data-index="166" class="prettyprint"><code class="prism language-java has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell svc wifi prefer 
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>若执行成功，输出为空；若未取得 root 权限执行此命令，将执行失败，输出 Killed。</p> 
			<h3><a name="t82"></a><a id="__2725"></a>开启/关闭 数据流量</h3> 
			<pre data-index="167" class="prettyprint"><code class="prism language-java has-numbering" onclick="mdcp.signin(event)" style="position: unset;">svc data disable
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>这个命令可以关闭数据连接，就是上网流量，大家都知道控制上网的开关很多， 但是大都是通过在apn上的接入点加后缀来实现的，但是这个命令不会更改apn的任何设置，直接在底层关闭数据连接。 应该是最彻底的，而且又不影响apn的设置。这个跟apndroid有什么区别，apndroid是在关闭上网数据的时候，已经在下载的连接可能不会被强 制关闭(这个在apndroid自己的说明中也有提到)。比如你在下载一个10M的电影，下载了1M，不响下载了。用apndroid关闭连接，可能这个 下载还会继续，不会马上停掉。但是用这个命令，绝对毫不留情的咔嚓掉。</p> 
			<pre data-index="168" class="prettyprint"><code class="prism language-java has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell svc data enable 
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>这个是打开上网数据连接，跟上一个命令是相反的。</p> 
			<pre data-index="169" class="prettyprint"><code class="prism language-java has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell svc data prefer
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>这个命令是控制数据连接比wifi优先。我们都知道，正常情况下，有wifi的时候，不会用到数据网络连接。但是这个命令是相反，有数据网络的话先用数据网络流量，没有数据网络的时候采用wifi .</p> 
			<h2><a name="t83"></a><a id="_2744"></a>刷机相关命令</h2> 
			<h3><a name="t84"></a><a id="_Recovery__2747"></a>重启到 Recovery 模式</h3> 
			<p>命令：</p> 
			<pre data-index="170" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb reboot recovery
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<h3><a name="t85"></a><a id="_Recovery__Android_2756"></a>从 Recovery 重启到 Android</h3> 
			<p>命令：</p> 
			<pre data-index="171" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb reboot
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<h3><a name="t86"></a><a id="_Fastboot__2765"></a>重启到 Fastboot 模式</h3> 
			<p>命令：</p> 
			<pre data-index="172" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb reboot bootloader
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<h3><a name="t87"></a><a id="_sideload__2774"></a>通过 sideload 更新系统</h3> 
			<p>如果我们下载了 Android 设备对应的系统更新包到电脑上，那么也可以通过 adb 来完成更新。</p> 
			<p>以 Recovery 模式下更新为例：</p> 
			<p>重启到 Recovery 模式。</p> 
			<p>命令：</p> 
			<pre data-index="173" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb reboot recovery
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>在设备的 Recovery 界面上操作进入 Apply update-Apply from ADB。</p> 
			<p><em>注：不同的 Recovery 菜单可能与此有差异，有的是一级菜单就有 Apply update from ADB。</em></p> 
			<p><strong>通过 adb 上传和更新系统。</strong></p> 
			<p>命令：</p> 
			<pre data-index="174" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb sideload &lt;path-to-update.zip&gt;
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<h3><a name="t88"></a><a id="_adb_shell__2801"></a>更多 adb shell 命令</h3> 
			<p>Android 系统是基于 Linux 内核的，所以 Linux 里的很多命令在 Android 里也有相同或类似的实现，在 adb shell 里可以调用。本文档前面的部分内容已经用到了 adb shell 命令。</p> 
			<h3><a name="t89"></a><a id="_2806"></a>查看进程</h3> 
			<pre data-index="175" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell ps
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>例：</p> 
			<pre data-index="176" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">USER     PID   PPID  VSIZE  RSS     WCHAN    PC        NAME
			root      1     0     8904   788   ffffffff 00000000 S /init
			root      2     0     0      0     ffffffff 00000000 S kthreadd
			...
			u0_a71    7779  5926  1538748 48896 ffffffff 00000000 S com.sohu.inputmethod.sogou:classic
			u0_a58    7963  5926  1561916 59568 ffffffff 00000000 S org.mazhuang.boottimemeasure
			...
			shell     8750  217   10640  740   00000000 b6f28340 R ps
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li><li style="color: rgb(153, 153, 153);">6</li><li style="color: rgb(153, 153, 153);">7</li><li style="color: rgb(153, 153, 153);">8</li></ul></pre> 
			<p>各列含义：</p> 
			<div class="table-box"><table><thead><tr><th>列名</th><th>含义</th></tr></thead><tbody><tr><td>USER</td><td>所属用户</td></tr><tr><td>PID</td><td>进程 ID</td></tr><tr><td>PPID</td><td>父进程 ID</td></tr><tr><td>NAME</td><td>进程名</td></tr></tbody></table></div> 
			<h3><a name="t90"></a><a id="_2852"></a>查看实时资源占用情况</h3> 
			<pre data-index="177" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell top
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>例：</p> 
			<pre data-index="178" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">User 0%, System 6%, IOW 0%, IRQ 0%
			User 3 + Nice 0 + Sys 21 + Idle 280 + IOW 0 + IRQ 0 + SIRQ 3 = 307
			
			  PID PR CPU% S  #THR     VSS     RSS PCY UID      Name
			 8763  0   3% R     1  10640K   1064K  fg shell    top
			  131  0   3% S     1      0K      0K  fg root     dhd_dpc
			 6144  0   0% S   115 1682004K 115916K  fg system   system_server
			  132  0   0% S     1      0K      0K  fg root     dhd_rxf
			 1731  0   0% S     6  20288K    788K  fg root     /system/bin/mpdecision
			  217  0   0% S     6  18008K    356K  fg shell    /sbin/adbd
			 ...
			 7779  2   0% S    19 1538748K  48896K  bg u0_a71   com.sohu.inputmethod.sogou:classic
			 7963  0   0% S    18 1561916K  59568K  fg u0_a58   org.mazhuang.boottimemeasure
			 ...
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li><li style="color: rgb(153, 153, 153);">6</li><li style="color: rgb(153, 153, 153);">7</li><li style="color: rgb(153, 153, 153);">8</li><li style="color: rgb(153, 153, 153);">9</li><li style="color: rgb(153, 153, 153);">10</li><li style="color: rgb(153, 153, 153);">11</li><li style="color: rgb(153, 153, 153);">12</li><li style="color: rgb(153, 153, 153);">13</li><li style="color: rgb(153, 153, 153);">14</li></ul></pre> 
			<p>各列含义：</p> 
			<div class="table-box"><table><thead><tr><th>列名</th><th>含义</th></tr></thead><tbody><tr><td>PID</td><td>进程 ID</td></tr><tr><td>PR</td><td>优先级</td></tr><tr><td>CPU%</td><td>当前瞬间占用 CPU 百分比</td></tr><tr><td>S</td><td>进程状态（R=运行，S=睡眠，T=跟踪/停止，Z=僵尸进程）</td></tr><tr><td>#THR</td><td>线程数</td></tr><tr><td>VSS</td><td>Virtual Set Size 虚拟耗用内存（包含共享库占用的内存）</td></tr><tr><td>RSS</td><td>Resident Set Size 实际使用物理内存（包含共享库占用的内存）</td></tr><tr><td>PCY</td><td>调度策略优先级，SP_BACKGROUND/SPFOREGROUND</td></tr><tr><td>UID</td><td>进程所有者的用户 ID</td></tr><tr><td>NAME</td><td>进程名</td></tr></tbody></table></div> 
			<p>top 命令还支持一些命令行参数，详细用法如下：</p> 
			<pre data-index="179" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">Usage: top [ -m max_procs ] [ -n iterations ] [ -d delay ] [ -s sort_column ] [ -t ] [ -h ]
				-m num  最多显示多少个进程
				-n num  刷新多少次后退出
				-d num  刷新时间间隔（单位秒，默认值 5）
				-s col  按某列排序（可用 col 值：cpu, vss, rss, thr）
				-t      显示线程信息
				-h      显示帮助文档
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li><li style="color: rgb(153, 153, 153);">6</li><li style="color: rgb(153, 153, 153);">7</li></ul></pre> 
			<h3><a name="t91"></a><a id="_UID_2940"></a>查看进程 UID</h3> 
			<p>有两种方案：</p> 
			<pre data-index="180" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell dumpsys package &lt;packagename&gt; | grep userId=
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>如：</p> 
			<pre data-index="181" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">$ adb shell dumpsys package org.mazhuang.guanggoo | grep userId=
			   userId=10394
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li></ul></pre> 
			<p>通过 ps 命令找到对应进程的 pid 之后 <code>adb shell cat /proc/&lt;pid&gt;/status | grep Uid</code></p> 
			<p>如：</p> 
			<pre data-index="182" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">$ adb shell
			gemini:/ $ ps | grep org.mazhuang.guanggoo
			u0_a394   28635 770   1795812 78736 SyS_epoll_ 0000000000 S org.mazhuang.guanggoo
			gemini:/ $ cat /proc/28635/status | grep Uid
			Uid:    10394   10394   10394   10394
			gemini:/ $
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li><li style="color: rgb(153, 153, 153);">6</li></ul></pre> 
			<h3><a name="t92"></a><a id="_2969"></a>其它</h3> 
			<p>如下是其它常用命令的简单描述，前文已经专门讲过的命令不再额外说明：</p> 
			<div class="table-box"><table><thead><tr><th>命令</th><th>功能</th></tr></thead><tbody><tr><td>cat</td><td>显示文件内容</td></tr><tr><td>cd</td><td>切换目录</td></tr><tr><td>chmod</td><td>改变文件的存取模式/访问权限</td></tr><tr><td>df</td><td>查看磁盘空间使用情况</td></tr><tr><td>grep</td><td>过滤输出</td></tr><tr><td>kill</td><td>杀死指定 PID 的进程</td></tr><tr><td>ls</td><td>列举目录内容</td></tr><tr><td>mount</td><td>挂载目录的查看和管理</td></tr><tr><td>mv</td><td>移动或重命名文件</td></tr><tr><td>ps</td><td>查看正在运行的进程</td></tr><tr><td>rm</td><td>删除文件</td></tr><tr><td>top</td><td>查看进程的资源占用情况</td></tr></tbody></table></div> 
			<h2><a name="t93"></a><a id="_3030"></a>安全相关</h2> 
			<h3><a name="t94"></a><a id="_SELinux_3031"></a>启用 SELinux</h3> 
			<p>启用 SELinux</p> 
			<pre data-index="183" class="prettyprint"><code class="prism language-java has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb root
			adb shell setenforce <span class="token number">1</span>
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li></ul></pre> 
			<h3><a name="t95"></a><a id="_SELinux_3039"></a>禁用 SELinux</h3> 
			<pre data-index="184" class="prettyprint"><code class="prism language-java has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb root
			adb shell setenforce <span class="token number">0</span>
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li></ul></pre> 
			<h3><a name="t96"></a><a id="_dm_verity_3046"></a>启用 dm_verity</h3> 
			<pre data-index="185" class="prettyprint"><code class="prism language-java has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb root
			adb enable<span class="token operator">-</span>verity
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li></ul></pre> 
			<h3><a name="t97"></a><a id="_dm_verity_3053"></a>禁用 dm_verity</h3> 
			<pre data-index="186" class="prettyprint"><code class="prism language-java has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb root
			adb disable<span class="token operator">-</span>verity
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li></ul></pre> 
			<h3><a name="t98"></a><a id="API_3060"></a>开启隐藏API</h3> 
			<p>出于测试目的，Google 内置了一种在给定 Android 设备上全局禁用隐藏 API 限制的方法。标题为如何启用对非 SDK 接口的访问的问题中链接中的部分。具体如下：</p> 
			<blockquote> 
			 <p>可以通过使用以下 adb 命令更改 API 强制策略来启用对开发设备上的非 SDK 接口的访问：</p> 
			</blockquote> 
			<pre data-index="187" class="prettyprint"><code class="prism language-bash has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell settings put global hidden_api_policy_pre_p_apps <span class="token number">1</span>
			adb shell settings put global hidden_api_policy_p_apps <span class="token number">1</span>
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li></ul></pre> 
			<p>要将 API 强制策略重置为默认设置，请使用以下命令：</p> 
			<pre data-index="188" class="prettyprint"><code class="prism language-bash has-numbering" onclick="mdcp.signin(event)" style="position: unset;">adb shell settings delete global hidden_api_policy_pre_p_apps
			adb shell settings delete global hidden_api_policy_p_apps
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li></ul></pre> 
			<h2><a name="t99"></a><a id="_3078"></a>常见问题</h2> 
			<h3><a name="t100"></a><a id="_adb_server__3081"></a>启动 adb server 失败</h3> 
			<p>出错提示</p> 
			<pre data-index="189" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">error: protocol fault (couldn't read status): No error
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>可能原因</p> 
			<p>adb server 进程想使用的 5037 端口被占用。</p> 
			<p>解决方案</p> 
			<p>找到占用 5037 端口的进程，然后终止它。以 Windows 下为例：</p> 
			<pre data-index="190" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">netstat -ano | findstr LISTENING
			
			...
			TCP    0.0.0.0:5037           0.0.0.0:0              LISTENING       1548
			...
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li></ul></pre> 
			<p>这里 1548 即为进程 ID，用命令结束该进程：</p> 
			<pre data-index="191" class="prettyprint"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">taskkill /PID 1548
			<div class="hljs-button signin" data-title="登录后复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}"></div></code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li></ul></pre> 
			<p>然后再启动 adb 就没问题了。</p>
							</div>
							<link href="./refs/css/markdown_views-22a2fefd3b.css" rel="stylesheet">
							<link href="./refs/css/style-4566211012.css" rel="stylesheet">
					</div>
				</article>
			  <script>
			  $(function() {
				setTimeout(function () {
				  var mathcodeList = document.querySelectorAll('.htmledit_views img.mathcode');
				  if (mathcodeList.length > 0) {
					var testImg = new Image();
					testImg.onerror = function () {
					  mathcodeList.forEach(function (item) {
						$(item).before('<span class="img-codecogs">\\(' + item.alt + '\\)</span>');
						$(item).remove();
					  })
					  MathJax.Hub.Queue(["Typeset",MathJax.Hub]);
					}
					testImg.src = mathcodeList[0].src;
				  }
				}, 1000)
			  })
			  </script>
			</div>
					</main>
				</div>
			<div class="recommend-right align-items-stretch clearfix" id="rightAside" data-type="recommend" style="width: 300px;position:absolute;right:0px;">
				<aside class="recommend-right_aside">
					<div id="recommend-right" style="position: fixed; top: 8px;">
									<div class="flex-column aside-box groupfile" id="groupfile" style="display: block; /*! max-height: 477.5px; */">
							<div class="groupfile-div" style="/*! max-height: 477.5px; */">
							<h3 class="aside-title">目录</h3>
							<div class="align-items-stretch group_item">
								<div class="pos-box">
									<div class="scroll-box">
										<div class="toc-box"><ol><li class=""><a href="#t0">ADB是什么</a></li><li class=""><a href="#t1">ADB架构</a></li><li class=""><a href="#t3">ADB端口被占用</a></li><li class=""><a href="#t4">基本用法</a></li><li class="sub-box"><ol><li class=""><a href="#t5">命令语法</a></li><li class=""><a href="#t6">为命令指定目标设备</a></li><li class=""><a href="#t7">启动/停止</a></li><li class=""><a href="#t8">查看 adb 版本</a></li><li class=""><a href="#t9">以 root 权限运行 adbd</a></li><li class=""><a href="#t10">指定 adb server 的网络端口</a></li></ol></li><li class=""><a href="#t11">设备连接管理</a></li><li class="sub-box"><ol><li class=""><a href="#t12">查询已连接设备/模拟器</a></li><li class=""><a href="#t13">USB 连接</a></li><li class=""><a href="#t14">无线连接（需要借助 USB 线）</a></li><li class=""><a href="#t15">无线连接（无需借助 USB 线）</a></li></ol></li><li class=""><a href="#t16">应用管理</a></li><li class="sub-box"><ol><li class=""><a href="#t17">查看应用列表</a></li><li class=""><a href="#t18">所有应用</a></li><li class=""><a href="#t19">系统应用</a></li><li class=""><a href="#t20">第三方应用</a></li><li class=""><a href="#t21">安装 APK</a></li><li class=""><a href="#t22">adb install 内部原理简介</a></li><li class=""><a href="#t23">卸载应用</a></li><li class=""><a href="#t24">清除应用数据与缓存</a></li><li class=""><a href="#t25">查看前台 Activity</a></li><li class=""><a href="#t26">查看正在运行的 Services</a></li><li class=""><a href="#t27">查看应用详细信息</a></li></ol></li><li class=""><a href="#t28">与应用交互</a></li><li class="sub-box"><ol><li class=""><a href="#t29">调起 Activity</a></li><li class=""><a href="#t30">调起 Service</a></li><li class=""><a href="#t31">发送广播</a></li><li class=""><a href="#t32">强制停止应用</a></li><li class=""><a href="#t33">禁用应用和启动</a></li><li class=""><a href="#t34">撤消应用程序的权限</a></li></ol></li><li><a href="#t35">文件管理</a></li><li class="sub-box"><ol><li class=""><a href="#t36">复制设备里的文件到电脑</a></li><li class=""><a href="#t37">复制电脑里的文件到设备</a></li></ol></li><li class=""><a href="#t38">模拟按键/输入</a></li><li class="sub-box"><ol><li class=""><a href="#t39">电源键</a></li><li class=""><a href="#t40">菜单键</a></li><li class=""><a href="#t41">HOME 键</a></li><li><a href="#t42">返回键</a></li><li class=""><a href="#t43">音量控制</a></li><li class=""><a href="#t44">媒体控制</a></li><li class=""><a href="#t45">点亮/熄灭屏幕</a></li><li class=""><a href="#t46">滑动解锁</a></li><li class=""><a href="#t47">输入文本</a></li></ol></li><li class=""><a href="#t48">查看日志</a></li><li class="sub-box"><ol><li class=""><a href="#t49">Android 日志</a></li><li class=""><a href="#t50">内核日志</a></li></ol></li><li><a href="#t51">查看设备信息</a></li><li class="sub-box"><ol><li class=""><a href="#t52">型号</a></li><li class=""><a href="#t53">电池状况</a></li><li class=""><a href="#t54">屏幕分辨率</a></li><li class=""><a href="#t55">屏幕密度</a></li><li class=""><a href="#t56">显示屏参数</a></li><li class=""><a href="#t57">android_id</a></li><li class=""><a href="#t58">IMEI</a></li><li class=""><a href="#t59">Android 系统版本</a></li><li class=""><a href="#t60">IP 地址</a></li><li class=""><a href="#t61">Mac 地址</a></li><li class=""><a href="#t62">CPU 信息</a></li><li class=""><a href="#t63">内存信息</a></li><li class=""><a href="#t64">更多硬件与系统属性</a></li></ol></li><li class=""><a href="#t65">修改设置</a></li><li class="sub-box"><ol><li class=""><a href="#t66">分辨率</a></li><li class=""><a href="#t67">屏幕密度</a></li><li class=""><a href="#t68">显示区域</a></li><li class=""><a href="#t69">关闭 USB 调试模式</a></li><li class=""><a href="#t70">状态栏和导航栏的显示隐藏</a></li><li class=""><a href="#t71">恢复正常模式</a></li></ol></li><li><a href="#t72">实用功能</a></li><li class="sub-box"><ol><li class=""><a href="#t73">屏幕截图</a></li><li class=""><a href="#t74">录制屏幕</a></li><li class=""><a href="#t75">重新挂载。</a></li><li class=""><a href="#t76">查看连接过的 WiFi 密码</a></li><li class="active"><a href="#t77">设置系统日期和时间</a></li><li class=""><a href="#t78">重启手机</a></li><li class=""><a href="#t79">检测设备是否已 root</a></li><li class=""><a href="#t80">使用 Monkey 进行压力测试</a></li><li class=""><a href="#t81">开启/关闭 WiFi</a></li><li class=""><a href="#t82">开启/关闭 数据流量</a></li></ol></li><li class=""><a href="#t83">刷机相关命令</a></li><li class="sub-box"><ol><li class=""><a href="#t84">重启到 Recovery 模式</a></li><li class=""><a href="#t85">从 Recovery 重启到 Android</a></li><li class=""><a href="#t86">重启到 Fastboot 模式</a></li><li class=""><a href="#t87">通过 sideload 更新系统</a></li><li class=""><a href="#t88">更多 adb shell 命令</a></li><li class=""><a href="#t89">查看进程</a></li><li class=""><a href="#t90">查看实时资源占用情况</a></li><li class=""><a href="#t91">查看进程 UID</a></li><li class=""><a href="#t92">其它</a></li></ol></li><li class=""><a href="#t93">安全相关</a></li><li class="sub-box"><ol><li class=""><a href="#t94">启用 SELinux</a></li><li class=""><a href="#t95">禁用 SELinux</a></li><li class=""><a href="#t96">启用 dm_verity</a></li><li class=""><a href="#t97">禁用 dm_verity</a></li><li class=""><a href="#t98">开启隐藏API</a></li></ol></li><li class=""><a href="#t99">常见问题</a></li><li class="sub-box"><ol><li class=""><a href="#t100">启动 adb server 失败</a></li></ol></li></ol></div>
									</div>
								</div>
							</div>
							</div>
						</div>
						
					</div>
				</aside>
			</div>
			</section>
		</article>
	</body>
</html>
